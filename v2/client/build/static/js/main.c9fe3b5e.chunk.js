(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},249:function(e,t,n){},250:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(0),i=n.n(r),o=n(17),l=n.n(o),c=n(9),u=n(44),s=n(174),m=n(55),d=n(56),f=n(60),p=n(59),v=n(15),g=function(e){return e.pathname===b.home},b={home:"/",dashboard:"/dashboard/:section?",dashboardPath:function(e){return"/dashboard/".concat(e)},venue:"/venue/:venueSlug",venuePath:function(e){return"/venue/".concat(e)},userProfile:"/user/:userId",userProfilePath:function(e){return"/user/".concat(function(e){return btoa(999999999*e)}(e))},validatePageSection:function(e,t,n){return Object.values(t).includes(e)?e:n}},y=n(188),h=function(e,t){return{container:{display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.5)),url(".concat(e,") 50% 50% no-repeat"),backgroundSize:"cover",height:t},headerText:{color:"#ffffff"}}},E=h("".concat("https://kidtrip.s3.us-east-2.amazonaws.com/assets/","venue-header-backgrounds/family-biking-cmp.jpg"),"700px"),O=function(){return i.a.createElement("div",{style:E.container},i.a.createElement(y.a,{variant:"h2",style:E.headerText},i.a.createElement("strong",null,"Experience")," childhood, again."))},j=(n(218),function(e){var t=e.title,n=e.icon,a=e.text,r={background:"url(/images/icons/".concat(n,".png) 0% 0% / 60px 60px no-repeat"),width:"60px",height:"60px"};return i.a.createElement("div",{className:"value-prop-section"},i.a.createElement("div",{className:"value-prop-title"},t),i.a.createElement("div",{className:"value-prop-icon",style:r}),i.a.createElement("div",{className:"value-prop-text"},a))}),S=(n(219),{title:"Discover",icon:"discover",text:"Find out about great local places to visit with your family. From restaurants, to museums, \n\tparks and playgrounds, make the most of your time!"}),I={title:"Track",icon:"track",text:"Had a great time sharing a meal with your family or enjoyed a hiking trail? Jot it down to build your \n\troster of go-to places for your future trips."},N={title:"Share",icon:"share",text:"Share your favorite places to visit with friends and family; hear about what others are \n\tenjoying, for great new ideas."},x=function(){return i.a.createElement("div",{className:"value-prop-container"},i.a.createElement(j,S),i.a.createElement(j,I),i.a.createElement(j,N))},C="auth-token",k="user-info",w=n(178),T=n(187),V=n(22);function $(){var e=Object(V.a)(["\n  query($cityIds: String, $venueTypeIds: String, $sort: String, $first: Int) {\n    venues(\n      cityIds: $cityIds\n      venueTypeIds: $venueTypeIds\n      sort: $sort\n      first: $first\n    ) {\n      id\n      createdAt\n      name\n      slug\n      description\n      streetAddress\n      zipcode\n      city\n      state\n      lat\n      lng\n      creator {\n        id\n        firstName\n        lastName\n      }\n      venueTypes {\n        id\n        name\n        image\n      }\n    }\n  }\n"]);return $=function(){return e},e}function B(){var e=Object(V.a)(["\n  query($name: String!, $cityId: Int, $limit: Int) {\n    similarVenuesByName(name: $name, cityId: $cityId, first: $limit) {\n      id\n      name\n      slug\n      streetAddress\n      zipcode\n      city\n      state\n      venueTypes {\n        id\n        name\n      }\n    }\n  }\n"]);return B=function(){return e},e}function F(){var e=Object(V.a)(["\n  query($venueId: ID!, $limit: Int, $radius: Int) {\n    similarVenues(id: $venueId, first: $limit, radius: $radius) {\n      id\n      name\n      slug\n      streetAddress\n      zipcode\n      city\n    }\n  }\n"]);return F=function(){return e},e}function q(){var e=Object(V.a)(["\n  query {\n    venueTypes {\n      id\n      name\n      image\n    }\n  }\n"]);return q=function(){return e},e}function D(){var e=Object(V.a)(["\n  query {\n    me {\n      venues {\n        ...VenueDetails\n      }\n      favoriteVenues {\n        ...VenueDetails\n      }\n    }\n  }\n  ","\n"]);return D=function(){return e},e}function U(){var e=Object(V.a)(["\n  query($venueSlug: String!) {\n    venueBySlug(slug: $venueSlug) {\n      ...VenueDetails\n      ...VenueStats\n    }\n  }\n  ","\n  ","\n"]);return U=function(){return e},e}function A(){var e=Object(V.a)(["\n  query($venueId: ID!) {\n    venue(id: $venueId) {\n      ...VenueDetails\n      ...VenueStats\n    }\n  }\n  ","\n  ","\n"]);return A=function(){return e},e}function M(){var e=Object(V.a)(["\n  query($venueId: ID!) {\n    venue(id: $venueId) {\n      ...VenueDetails\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function L(){var e=Object(V.a)(["\n  fragment VenueStats on Venue {\n    venueStats {\n      favorites\n      favoriteByCurrentUser\n    }\n  }\n"]);return L=function(){return e},e}function P(){var e=Object(V.a)(["\n  fragment VenueDetails on Venue {\n    id\n    name\n    slug\n    description\n    streetAddress\n    zipcode\n    city\n    state\n    lat\n    lng\n    venueTypes {\n      id\n      name\n      image\n    }\n  }\n"]);return P=function(){return e},e}var z=Object(c.gql)(P()),W=Object(c.gql)(L()),Q=(Object(c.gql)(M(),z),Object(c.gql)(A(),z,W),Object(c.gql)(U(),z,W)),R=Object(c.gql)(D(),z),_=Object(c.gql)(q()),H=Object(c.gql)(F()),G=Object(c.gql)(B()),J=Object(c.gql)($());function Y(){var e=Object(V.a)(["\n  query($publicId: String!) {\n    userProfile(publicId: $publicId) {\n      publicId\n      user {\n        id\n        firstName\n        lastName\n        zipcode\n      }\n      config {\n        headerImageUrl\n      }\n      stats {\n        created\n        favorited\n        followedByCurrentUser\n        followers\n        followees\n      }\n      recentFavoriteVenues {\n        ...VenueDetails\n      }\n      recentAddedVenues {\n        ...VenueDetails\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}function K(){var e=Object(V.a)(["\n  query {\n    userFeedConfig {\n      cityIds\n      venueTypeIds\n      cityDetails {\n        id\n        name\n        state\n      }\n    }\n  }\n"]);return K=function(){return e},e}function Z(){var e=Object(V.a)(["\n  query {\n    currentUser @client {\n      id\n      firstName\n      lastName\n    }\n  }\n"]);return Z=function(){return e},e}var X=Object(c.gql)(Z()),ee=Object(c.gql)(K()),te=Object(c.gql)(Y(),z),ne=function(){return!!localStorage.getItem(C)},ae=function(e,t){localStorage.setItem(C,e),localStorage.setItem(k,JSON.stringify(t))},re=function(e){return Object(T.a)(Object(w.graphql)(X,{props:function(e){return{currentUser:e.data.currentUser}}}))(e)},ie=(n(220),n(221),function(){return i.a.createElement("div",null,!ne()&&i.a.createElement("div",null,i.a.createElement("button",{className:"form-button homepage-signup-button",onClick:function(){return function(){var e=new Event("openSignUpModal");window.dispatchEvent(e)}()}},"Get Started")))}),oe=function(){return i.a.createElement("div",null,i.a.createElement(O,null),i.a.createElement(x,null),i.a.createElement(ie,null))},le=n(10),ce=n(8),ue=n(24),se=n(297),me=n(300),de=n(306),fe=n(295),pe=n(294),ve=n(296),ge=n(308),be=n(116),ye=n(291),he=n(292),Ee=n(181),Oe=n.n(Ee),je=n(293),Se=n(119);function Ie(){var e=Object(V.a)(["\n  query($limit: Int, $query: String) {\n    cities(first: $limit, query: $query) {\n      id\n      name\n      state\n    }\n  }\n"]);return Ie=function(){return e},e}var Ne=Object(c.gql)(Ie()),xe=n(309),Ce=n(280),ke={container:{position:"relative",width:"500px"},formControl:{minWidth:"500px",marginTop:"16px",marginBottom:"8px",height:"16px"}},we=function(e){var t=e.onCitySelected,n=e.isMulti,o=e.fieldLabel,l=e.placeholder,u=e.containerWidth,s=e.containerDisplay,m=e.initialValue,d=Object(c.useApolloClient)(),f=Object(r.useState)(""),p=Object(le.a)(f,2),v=p[0],g=p[1],b=Object(r.useState)(n?[]:{}),y=Object(le.a)(b,2),h=y[0],E=y[1],O=Object(r.useState)([]),j=Object(le.a)(O,2),S=j[0],I=j[1];Object(r.useEffect)((function(){v&&v.length>=3?function(e){return d.query({query:Ne,variables:{limit:10,query:e}})}(v).then((function(e){var t=e.data;I(t.cities.map((function(e){return{value:e.id,label:"".concat(e.name,", ").concat(e.state)}})))})):I([])}),[v,d]),Object(r.useEffect)((function(){m&&Array.isArray(m)&&m.length&&E(m.map((function(e){return{value:e.id,label:"".concat(e.name,", ").concat(e.state)}})))}),[m]);return i.a.createElement("div",{style:Object(a.a)(Object(a.a)({},ke.container),{},{width:u||"500px",display:s||"block"})},i.a.createElement(Ce.a,{style:ke.formControl},i.a.createElement(xe.a,{shrink:!0,htmlFor:"age-simple"},o||"City")),i.a.createElement(Se.a,{value:h,defaultValue:null,onChange:function(e){E(e),t(e)},options:S,onInputChange:function(e){g(e)},placeholder:l||"Type in name of city",isClearable:!0,isMulti:!!n,menuIsOpen:S&&S.length,escapeClearsValue:!0}))},Te=n(304),Ve=n(307),$e={formControl:{minWidth:"500px",marginTop:"16px",marginBottom:"8px"}},Be=function(e){var t=e.onVenueTypeSelected,n=Object(r.useState)(""),a=Object(le.a)(n,2),o=a[0],l=a[1],u=Object(c.useQuery)(_),s=u.loading,m=u.error,d=u.data;return s?"Loading...":m?"Error! ".concat(m.message):i.a.createElement(Ce.a,{style:$e.formControl},i.a.createElement(xe.a,{htmlFor:"age-simple"},"Venue Type"),i.a.createElement(Te.a,{value:o,onChange:function(e){return n=e.target.value,l(n),void t(n);var n},inputProps:{name:"type",id:"venue-type"}},d.venueTypes.map((function(e){return i.a.createElement(Ve.a,{key:e.id,value:e.id},e.name)}))))},Fe=n(283),qe=n(284),De=n(285),Ue=n(286),Ae=n(287),Me=n(288),Le=n(289),Pe=n(290),ze=function(e){var t="".concat(e.streetAddress,", ").concat(e.city,", ").concat(e.state," ").concat(e.zipcode);return"https://maps.google.com/?q=".concat(encodeURIComponent(t))},We=function(e){return e.venueTypes[0].name||"venue"},Qe=function(e){return"".concat(e.city,", ").concat(e.state)},Re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:", ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?"raw"===n?"".concat(e.streetAddress).concat(t).concat(Qe(e)," ").concat(e.zipcode):i.a.createElement("span",null,e.streetAddress,t,Qe(e)," ",e.zipcode):""},_e=Object(r.createContext)({notifications:[],addNotification:function(){},clearNotifications:function(){}}),He=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(le.a)(n,2),o=a[0],l=a[1],c={notifications:o,addNotification:Object(r.useCallback)((function(e,t){return l(o.concat({message:e,type:t}))}),[o]),clearNotifications:Object(r.useCallback)((function(){return l([])}),[])};return i.a.createElement(_e.Provider,{value:c},t)},Ge=1,Je=function(){var e=Object(r.useContext)(_e);return{notifications:e.notifications,addNotification:e.addNotification,clearNotifications:e.clearNotifications}};n(222);function Ye(){var e=Object(V.a)(["\n  mutation DeleteUserVenueFavorite($venueId: Int!) {\n    deleteUserVenueFavorite(venueId: $venueId) {\n      favorites\n      favoriteByCurrentUser\n    }\n  }\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(V.a)(["\n  mutation CreateUserVenueFavorite($venueId: Int!) {\n    createUserVenueFavorite(venueId: $venueId) {\n      favorites\n      favoriteByCurrentUser\n    }\n  }\n"]);return Ke=function(){return e},e}function Ze(){var e=Object(V.a)(["\n  mutation CreateVenueMutation(\n    $name: String!\n    $streetAddress: String!\n    $zipcode: Int!\n    $cityId: Int!\n    $typeId: Int!\n  ) {\n    createVenue(\n      name: $name\n      streetAddress: $streetAddress\n      zipcode: $zipcode\n      city: { id: $cityId }\n      venueType: { id: $typeId }\n    ) {\n      id\n      name\n      streetAddress\n      venueTypes {\n        name\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}var Xe=Object(c.gql)(Ze()),et=Object(c.gql)(Ke()),tt=Object(c.gql)(Ye()),nt=function(e,t,n){if(e.data.data.ROOT_QUERY['venueBySlug({"slug":"'.concat(t,'"})')]){var r=e.readQuery({query:Q,variables:{venueSlug:t}});e.writeQuery({query:Q,variables:{venueSlug:t},data:Object(a.a)(Object(a.a)({},r),{},{venueBySlug:Object(a.a)(Object(a.a)({},r.venueBySlug),{},{venueStats:Object(a.a)({},n)})})})}},at=function(e){var t=e.venue,n=Object(v.f)(),a=Je().addNotification,o=Object(r.useState)(null),l=Object(le.a)(o,2),u=l[0],s=l[1],m=Object(c.useLazyQuery)(G),d=Object(le.a)(m,2),f=d[0],p=d[1],g=[{query:R}],y=Object(c.useMutation)(et,{onError(e){console.log("error",e)},update:function(e,t){var r=t.data.createUserVenueFavorite;nt(e,u.slug,r),a("".concat(u.name," has been added to your favorites"),Ge),n.push(b.venuePath(u.slug))},refetchQueries:g}),h=Object(le.a)(y,1)[0],E=Object(r.useCallback)((function(e,t){return f({variables:{name:e,cityId:t&&t.id?t.id:null,limit:5}})}),[f]);Object(r.useEffect)((function(){t.name&&t.name.length>=3&&E(t.name,t.city)}),[t.name,t.city,E]);var O=Object(r.useCallback)((function(e){return h({variables:{venueId:e.id}})}),[h]);return Object(r.useEffect)((function(){u&&O(u)}),[u,O]),p.data&&p.data.similarVenuesByName&&p.data.similarVenuesByName.length?i.a.createElement("div",{className:"similarVenueByName"},i.a.createElement("div",{className:"similarVenueByNameTitle"},"Are you adding"," ",p.data.similarVenuesByName.length>1?"one of these destinations":"this destination","?"),i.a.createElement("div",{className:"similarVenueByNameItems"},p.data.similarVenuesByName.map((function(e){return i.a.createElement("div",{key:e.id,className:"similarVenueByNameItem"},i.a.createElement(ue.b,{to:b.venuePath(e.slug),target:"_blank",key:e.id,className:"similarVenueByNameItemName"},e.name),i.a.createElement("div",{className:"similarVenueByNameItemType"},We(e)),Re(e,i.a.createElement("br",null)),i.a.createElement("div",{className:"similarAddToFavoriteButtonContainer"},i.a.createElement("button",{className:"similarAddToFavoriteButton",onClick:function(){return s(e)}},"Add to Favorites")))})))):null},rt={appBar:{position:"relative"},title:{margin:"0 auto"},body:{margin:"0 auto"},input:{minWidth:"500px"}},it={name:"",type:{id:null},streetAddress:"",zipcode:"",lat:"",lng:"",city:{}},ot=function(e){var t=e.open,n=e.toggleDialog,o=e.onCreatedVenue,l=Object(c.useMutation)(Xe,{onError(e){console.log("error",e)},onCompleted(e){o()},refetchQueries:[{query:R}],awaitRefetchQueries:!0}),u=Object(le.a)(l,1)[0],s=Object(r.useState)(Object(a.a)({},it)),m=Object(le.a)(s,2),d=m[0],f=m[1],p=Object(r.useState)("Please enter information about a place you enjoyed."),v=Object(le.a)(p,2),g=v[0],b=v[1],y=function(e){return function(t){f(Object(a.a)(Object(a.a)({},d),{},{[e]:t.target.value}))}};return i.a.createElement(de.a,{open:t,onClose:n,fullScreen:!0,"aria-labelledby":"form-dialog-title"},i.a.createElement(ye.a,{style:rt.appBar},i.a.createElement(he.a,null,i.a.createElement(je.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close"},i.a.createElement(Oe.a,null)))),i.a.createElement(pe.a,{style:rt.title},"Add New Destination"),i.a.createElement(fe.a,{style:rt.body},i.a.createElement(ve.a,null,g),i.a.createElement(ge.a,{id:"venue-name",label:"Venue name",value:d.name,onChange:y("name"),margin:"normal",style:rt.input}),i.a.createElement("br",null),i.a.createElement(Be,{onVenueTypeSelected:function(e){f(Object(a.a)(Object(a.a)({},d),{},{type:{id:e}}))}}),i.a.createElement("br",null),i.a.createElement(ge.a,{id:"venue-street-address",name:"street-address",label:"Street address",value:d.streetAddress,onChange:y("streetAddress"),margin:"normal",autoComplete:"shipping street-address",style:rt.input}),i.a.createElement(we,{onCitySelected:function(e){f(Object(a.a)(Object(a.a)({},d),{},{city:e&&e.value?{id:e.value}:{}}))}}),i.a.createElement(be.a,{customInput:ge.a,id:"venue-zipcode",name:"zipcode",label:"Zipcode",value:d.zipcode,onChange:y("zipcode"),margin:"normal",style:rt.input,autoComplete:"postal-code",format:"#####"}),i.a.createElement(at,{venue:d}),i.a.createElement("div",null,i.a.createElement(se.a,{color:"primary",onClick:function(){!function(e){var t=e.name,n=e.type,a=e.streetAddress,r=e.city,i=e.zipcode,o={name:!1,type:!1,streetAddress:!1,city:!1,zipcode:!1};return t&&t.length>=3&&(o.name=!0),n&&n.id&&(o.type=!0),a&&a.length>=2&&(o.streetAddress=!0),r&&r.id&&(o.city=!0),i&&!isNaN(parseInt(i))&&(o.zipcode=!0),-1===Object.values(o).indexOf(!1)}(d)?b("Please enter valid venue information"):u({variables:{name:d.name,typeId:d.type.id,streetAddress:d.streetAddress,zipcode:parseInt(d.zipcode),cityId:d.city.id}}).then((function(e){f(Object(a.a)({},it)),n()}))}},"Create venue"))))},lt=n(182),ct=n.n(lt),ut=n(303),st=n(299),mt=Object(ce.a)({appBar:{boxShadow:"none",float:"left",width:"300px"},tabIndicator:{backgroundColor:"#ffffff"}})((function(e){var t=e.classes,n=e.venues,a=e.venueTypeFilter,r=e.onSetVenueTypeFilter;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ct.a,{position:"static",className:t.appBar},i.a.createElement(ut.a,{value:a,onChange:function(e,t){r(t)},classes:{indicator:t.tabIndicator},orientation:"vertical",variant:"scrollable",scrollButtons:"auto"},i.a.createElement(st.a,{label:"all",value:"all"}),function(e){for(var t={},n=0;n<e.length;n++)e[n].venueTypes&&e[n].venueTypes.length&&(t[e[n].venueTypes[0].name]?t[e[n].venueTypes[0].name].venues.push(e[n]):t[e[n].venueTypes[0].name]={type:{id:e[n].venueTypes[0].id,name:e[n].venueTypes[0].name},venues:[e[n]]});return Object.keys(t)}(n).sort().map((function(e,t){return i.a.createElement(st.a,{label:e,value:e,key:t})})))))})),dt=Object(ce.a)({"@global":{".venueItem":{border:"1px solid #eee",borderRadius:"8px",marginTop:"5px",marginBottom:"5px",padding:"15px",width:"49%",display:"inline-block","&:nth-child(odd)":{marginRight:"10px"}},".venueItemTitle":{display:"block",fontSize:"18px",fontWeight:500,lineHeight:1.6,color:"#333333",textDecoration:"none","&:hover":{textDecoration:"underline"}},".venueItemDescription":{},".venueItemTypeBadge":{display:"inline-block",padding:"1px 5px",backgroundColor:"#2196f3",color:"#fff",borderRadius:"3px",height:"22px"},".venueItemTypeBadgeText":{marginLeft:"20px",marginTop:"3px",textTransform:"uppercase",fontSize:"11px",fontWeight:600,minWidth:"75px",textAlign:"center"},".venueItemLocation":{textTransform:"uppercase",fontSize:"11px",fontWeight:600,textDecoration:"none",float:"right",marginTop:"4px",color:"#666"},".venueIcon":{float:"left",width:"15px",height:"auto",marginRight:"5px",position:"relative",top:"2px"},".venueUnlike":{float:"right"}}})((function(e){var t=e.venue,n=e.showDeleteFavoriteButton,a=e.onDeleteFavoriteCallback,r=Object(c.useMutation)(tt,{onError(e){console.log("error",e)},update:function(e,t){var n=t.data.deleteUserVenueFavorite;l(e,n)},onCompleted:function(){a()},refetchQueries:[{query:R}],awaitRefetchQueries:!0}),o=Object(le.a)(r,1)[0],l=function(e,n){try{var a=e.readQuery({query:Q,variables:{venueSlug:t.slug}});a.venueBySlug.venueStats=n,e.writeQuery({query:Q,variables:{venueSlug:t.slug},data:a})}catch(r){}};return i.a.createElement("div",{className:"venueItem"},n&&i.a.createElement("button",{onClick:function(){o({variables:{venueId:t.id}})},className:"venueUnlike"},"Unlike"),i.a.createElement(ue.b,{to:b.venuePath(t.slug),className:"venueItemTitle"},t.name),i.a.createElement("div",{className:"venueItemDescription"},i.a.createElement("div",{className:"venueItemTypeBadge"},function(e,t){var n;switch(e.venueTypes[0].name){case"restaurant":n=i.a.createElement(Fe.a,{className:t});break;case"museum":n=i.a.createElement(qe.a,{className:t});break;case"zoo":n=i.a.createElement(De.a,{className:t});break;case"hiking trail":n=i.a.createElement(Ue.a,{className:t});break;case"outdoor park":n=i.a.createElement(Ae.a,{className:t});break;case"camp site":n=i.a.createElement(Me.a,{className:t});break;case"outdoor playground":n=i.a.createElement(Le.a,{className:t});break;default:n=i.a.createElement(Pe.a,{className:t})}return n}(t,"venueIcon"),i.a.createElement("div",{className:"venueItemTypeBadgeText"},t.venueTypes&&t.venueTypes.length?"".concat(t.venueTypes[0].name):"")),i.a.createElement("a",{href:ze(t),target:"_blank",rel:"noopener noreferrer",className:"venueItemLocation"},Qe(t))))})),ft=Object(ce.a)({"@global":{".venueList":{marginLeft:"320px"}}})((function(e){var t=e.currentDashboardSection,n=e.isFavoritesDashboardSection,a=e.externalTriggerVenueRefresh,o=Object(c.useApolloClient)(),l=Object(r.useState)("all"),u=Object(le.a)(l,2),s=u[0],m=u[1],d=Object(r.useState)([]),f=Object(le.a)(d,2),p=f[0],v=f[1],g=Object(r.useState)(!0),b=Object(le.a)(g,2),y=b[0],h=b[1];Object(r.useEffect)((function(){o.query({query:R}).then((function(e){var t=e.data;v(n?t.me.favoriteVenues:t.me.venues)})),m("all")}),[t,y,a,n,o]);var E=function(){h(!y)};return i.a.createElement(r.Fragment,null,i.a.createElement(mt,{venues:p,onSetVenueTypeFilter:m,venueTypeFilter:s}),i.a.createElement("div",{className:"venueList"},p.filter((function(e){return"all"===s||e.venueTypes[0].name===s})).map((function(e){return i.a.createElement(dt,{key:e.id,venue:e,showDeleteFavoriteButton:n,onDeleteFavoriteCallback:E})}))))}));function pt(){var e=Object(V.a)(["\n  mutation DeleteUserFollower($publicId: String!) {\n    deleteUserFollower(publicId: $publicId) {\n      followedByCurrentUser\n      followers\n      followees\n    }\n  }\n"]);return pt=function(){return e},e}function vt(){var e=Object(V.a)(["\n  mutation CreateUserFollower($publicId: String!) {\n    createUserFollower(publicId: $publicId) {\n      followedByCurrentUser\n      followers\n      followees\n    }\n  }\n"]);return vt=function(){return e},e}function gt(){var e=Object(V.a)(["\n  mutation UpdateCurrentUserFeedConfigMutation(\n    $cityIds: String\n    $venueTypeIds: String\n  ) {\n    updateUserFeedConfig(cityIds: $cityIds, venueTypeIds: $venueTypeIds) {\n      cityIds\n      venueTypeIds\n    }\n  }\n"]);return gt=function(){return e},e}function bt(){var e=Object(V.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        id\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n"]);return bt=function(){return e},e}function yt(){var e=Object(V.a)(["\n  mutation SignupMutation(\n    $email: String!\n    $password: String!\n    $firstName: String!\n    $lastName: String!\n  ) {\n    signup(\n      email: $email\n      password: $password\n      firstName: $firstName\n      lastName: $lastName\n    ) {\n      token\n      user {\n        id\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n"]);return yt=function(){return e},e}var ht=Object(c.gql)(yt()),Et=Object(c.gql)(bt()),Ot=Object(c.gql)(gt()),jt=Object(c.gql)(vt()),St=Object(c.gql)(pt()),It=Object(ce.a)({"@global":{".feedItem":{borderBottom:"1px solid #eee",marginTop:"5px",marginBottom:"5px",padding:"15px"},".feedItemTitle":{fontWeight:600,color:"#000",textDecoration:"none",fontSize:"15px","&:hover":{textDecoration:"underline"}},".feedItemSubtitle":{fontSize:"12px"}}})((function(e){var t,n=e.venue;return i.a.createElement("div",{className:"feedItem"},i.a.createElement(ue.b,{to:b.venuePath(n.slug),className:"feedItemTitle"},n.name),i.a.createElement("div",{className:"feedItemSubtitle"},"in ",Qe(n),n.creator&&i.a.createElement(r.Fragment,null,i.a.createElement("br",null),"added ",function(e){var t=new Date(e),n=((new Date).getTime()-t.getTime())/1e3;return n<=60?"now":n<90?Math.round(n/60)+" minute ago":n<=3600?Math.round(n/60)+" minutes ago":n<5400?Math.round(n/3600)+" hour ago":n<=86400?Math.round(n/3600)+" hours ago":"on "+t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}(n.createdAt)," by \xa0",i.a.createElement(ue.b,{to:b.userProfilePath(n.creator.id)},(t=n.creator)&&t.firstName&&t.lastName?"".concat(t.firstName," ").concat(t.lastName[0],"."):""))))})),Nt={container:{position:"relative",width:"350px",display:"inline-block"},formControl:{minWidth:"500px",marginTop:"16px",marginBottom:"8px",height:"16px"}},xt=function(e){var t=e.initialValue,n=e.onVenueTypeSelected,a=Object(c.useApolloClient)(),o=Object(r.useState)([]),l=Object(le.a)(o,2),u=l[0],s=l[1],m=Object(r.useState)([]),d=Object(le.a)(m,2),f=d[0],p=d[1];Object(r.useEffect)((function(){a.query({query:_}).then((function(e){var t=e.data;p(t.venueTypes.map((function(e){return{value:e.id,label:e.name}})))}))}),[a]),Object(r.useEffect)((function(){if(f&&f.length&&t){var e=t.split(",").map((function(e){return parseInt(e)}));s(f.filter((function(t){return e.includes(t.value)})))}}),[f,t]);return i.a.createElement("div",{style:Nt.container},i.a.createElement(Ce.a,{style:Nt.formControl},i.a.createElement(xe.a,{shrink:!0,htmlFor:"age-simple"},"Venue type")),i.a.createElement(Se.a,{value:u,defaultValue:null,onChange:function(e){s(e),n(e)},options:f,placeholder:"Select venue type",isClearable:!0,isMulti:!0,isSearchable:!1,escapeClearsValue:!0}))},Ct=function(e){var t=e.feedConfiguration,n=e.onFeedConfigurationUpdated,a=Object(r.useState)(),o=Object(le.a)(a,2),l=o[0],c=o[1],u=Object(r.useState)(),s=Object(le.a)(u,2),m=s[0],d=s[1];Object(r.useEffect)((function(){c(t.cityIds),d(t.venueTypeIds)}),[t]);return i.a.createElement("div",null,i.a.createElement(we,{onCitySelected:function(e){var t=e?e.map((function(e){return e.value})).join(","):null;c(t),n({cityIds:t,venueTypeIds:m})},fieldLabel:"Filter feed by city",placeholder:"e.g.: San Francisco, CA",isMulti:!0,containerWidth:"350px",containerDisplay:"inline-block",initialValue:t.cityDetails}),i.a.createElement("div",{style:{display:"inline-block",width:"30px",height:"20px"}}),i.a.createElement(xt,{initialValue:m,onVenueTypeSelected:function(e){var t=e?e.map((function(e){return e.value})).join(","):null;d(t),n({venueTypeIds:t,cityIds:l})}}))},kt=Object(ce.a)({"@global":{".feedContainer":{maxWidth:"50%",minWidth:"400px"}}})((function(){var e=Object(c.useApolloClient)(),t=Object(r.useState)([]),n=Object(le.a)(t,2),o=n[0],l=n[1],u=Object(r.useState)({cityIds:null,venueTypeIds:null,sort:"DESC",first:25,init:!1}),s=Object(le.a)(u,2),m=s[0],d=s[1],f=Object(c.useMutation)(Ot),p=Object(le.a)(f,1)[0];Object(r.useEffect)((function(){e.query({query:ee}).then((function(e){var t=e.data;d(Object(a.a)({init:!0,sort:"DESC",first:25},t.userFeedConfig))}))}),[e]),Object(r.useEffect)((function(){m.init&&e.query({query:J,variables:Object(a.a)({},m)}).then((function(e){var t=e.data;l(t.venues)}))}),[e,m]);return i.a.createElement("div",null,i.a.createElement(Ct,{feedConfiguration:m,onFeedConfigurationUpdated:function(e){e&&d(Object(a.a)(Object(a.a)({},e),{},{init:!0})),p({variables:{cityIds:e.cityIds,venueTypeIds:e.venueTypeIds}})}}),i.a.createElement("div",{className:"feedContainer"},o.map((function(e){return i.a.createElement(It,{key:e.id,venue:e})}))))})),wt=function(e){return function(t){Object(f.a)(a,t);var n=Object(p.a)(a);function a(){return Object(m.a)(this,a),n.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"mainContainer"},i.a.createElement("div",{className:"mainContent"},i.a.createElement(e,this.props)))}}]),a}(i.a.Component)},Tt={FEED:"feed",FOLLOWED_DESTINATIONS:"followed-destinations",MY_DESTINATIONS:"my-destinations",FAVORITES:"favorites"},Vt=Object(ce.a)({"@global":{".sectionHeader":{marginBottom:"30px",display:"flex"},".sectionHeaderTitle":{flexGrow:2,maxWidth:"250px",cursor:"pointer",textDecoration:"none",color:"#666",textAlign:"center",textTransform:"uppercase",borderRadius:"8px",margin:"0px 10px",fontSize:"14px",fontWeight:600,lineHeight:2.5,letterSpacing:"1.3px",border:"1px solid #eee"},".sectionHeaderTitleSelected":{backgroundColor:"#f9f8f8"},".venueList":{marginLeft:"320px"}}})(wt((function(e){var t=e.match,n=b.validatePageSection(t.params.section,Tt,Tt.FEED),a=Object(r.useState)(!1),o=Object(le.a)(a,2),l=o[0],c=o[1],u=Object(r.useState)(!0),s=Object(le.a)(u,2),m=s[0],d=s[1],f=function(){c(!l)},p=function(e,t){return i.a.createElement(ue.b,{to:b.dashboardPath(t),className:"sectionHeaderTitle ".concat(n===t?"sectionHeaderTitleSelected":"")},e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"sectionHeader"},p("Feed",Tt.FEED),p("My destinations",Tt.MY_DESTINATIONS),p("Favorite destinations",Tt.FAVORITES),i.a.createElement(se.a,{variant:"outlined",style:{marginLeft:"auto"},onClick:f},i.a.createElement(me.a,null),"Add Destination"),i.a.createElement(ot,{open:l,toggleDialog:f,onCreatedVenue:function(){return d(!m)}})),n===Tt.FEED?i.a.createElement(kt,null):i.a.createElement(ft,{currentDashboardSection:n,isFavoritesDashboardSection:n===Tt.FAVORITES,externalTriggerVenueRefresh:m}))}))),$t=n(183),Bt=n.n($t),Ft=function(e){var t=e.venue,n=h("".concat(function(e){return e.venueTypes[0].image}(t)),"300px");return i.a.createElement("div",{style:n.container},i.a.createElement(y.a,{variant:"h2",style:n.headerText},i.a.createElement("strong",null,t.name)))},qt=(n(128),function(e){var t=e.venue,n=Object(c.useApolloClient)(),a=Object(r.useState)([]),o=Object(le.a)(a,2),l=o[0],u=o[1];return Object(r.useEffect)((function(){n.query({query:H,variables:{venueId:t.id,limit:5,radius:10}}).then((function(e){var t=e.data;u(t.similarVenues)}))}),[t,n]),i.a.createElement("div",{className:"sidebar-module",style:{display:l&&l.length?"block":"none"}},i.a.createElement("h3",null,"Similar places near by"),i.a.createElement("div",{className:"sidebar-module-body"},l&&l.map((function(e){return i.a.createElement("div",{key:e.id},i.a.createElement(ue.b,{to:b.venuePath(e.slug)},e.name))}))))}),Dt=function(e){var t=e.venue;return i.a.createElement("div",{className:"sidebar-module"},i.a.createElement("h3",null,"Location"),i.a.createElement("div",{className:"sidebar-module-body"},i.a.createElement("a",{href:"".concat("https://maps.google.com/?daddr=").concat(encodeURIComponent(Re(t,",","raw"))),target:"_blank",rel:"noopener noreferrer"},Re(t,i.a.createElement("br",null)))))},Ut=function(e){var t=e.venueId,n=e.venueSlug,a=e.favoriteByCurrentUser,r=e.onUpdateFavoritesStats,o=[{query:R}],l=Object(c.useMutation)(et,{onError(e){console.log("error",e)},update:function(e,t){var a=t.data.createUserVenueFavorite;nt(e,n,a),r(a)},refetchQueries:o}),u=Object(le.a)(l,1)[0],s=Object(c.useMutation)(tt,{onError(e){console.log("error",e)},update:function(e,t){var a=t.data.deleteUserVenueFavorite;nt(e,n,a),r(a)},refetchQueries:o}),m=Object(le.a)(s,1)[0];return i.a.createElement(i.a.Fragment,null,a?i.a.createElement("span",null,"\u2605\xa0",i.a.createElement("button",{onClick:function(e){e.preventDefault(),m({variables:{venueId:t}})}}," ","Unlike")):i.a.createElement("button",{href:"#",onClick:function(e){e.preventDefault(),u({variables:{venueId:t}})}},"Like"))},At={sectionHeader:{marginBottom:"15px"},columnWrapper:{display:"flex"},mainColumn:{flexGrow:3,maxWidth:"800px"},sideColumm:{flexGrow:1,marginTop:"-20px"}},Mt=function(e){var t=e.match.params.venueSlug,n=Object(r.useState)(null),o=Object(le.a)(n,2),l=o[0],u=o[1],s=Object(r.useState)(""),m=Object(le.a)(s,2),d=m[0],f=m[1],p=Object(c.useQuery)(Q,{variables:{venueSlug:t}}),v=p.loading,g=p.error,b=p.data;Object(r.useEffect)((function(){b&&(u(b.venueBySlug),f(We(b.venueBySlug)))}),[b]);return v?null:g?"Error! ".concat(g):t?l&&i.a.createElement("div",null,i.a.createElement(Ft,{venue:l}),i.a.createElement("div",{className:"mainContainer"},i.a.createElement("div",{className:"mainContent"},i.a.createElement(y.a,{variant:"h5",style:At.sectionHeader},l.name),i.a.createElement("div",{style:At.columnWrapper},i.a.createElement("div",{style:At.mainColumn},i.a.createElement("div",null,"Liked by"," ",i.a.createElement("strong",null,i.a.createElement(be.a,{value:l.venueStats.favorites,thousandSeparator:!0,displayType:"text"})," ",Bt()("person",l.venueStats.favorites)),". \xa0",ne()&&i.a.createElement(Ut,{venueId:l.id,venueSlug:t,favoriteByCurrentUser:l.venueStats.favoriteByCurrentUser,onUpdateFavoritesStats:function(e){u(Object(a.a)(Object(a.a)({},l),{},{venueStats:Object(a.a)({},e)}))}})),i.a.createElement("br",null),l.description&&i.a.createElement("span",null,l.description),"This ",d," is located in ",l.city,", ",l.state,"."),i.a.createElement("div",{style:At.sideColumm},i.a.createElement(Dt,{venue:l}),i.a.createElement(qt,{venue:l})))))):i.a.createElement("div",null,"Venue not found.")},Lt=n(302),Pt=n(298),zt=n(185),Wt=n(133),Qt=n.n(Wt),Rt=Object(zt.a)({palette:{primary:{main:Qt.a[500]},background:{default:"#efefef"}},typography:{useNextVariants:!0}}),_t=n(84),Ht=n.n(_t),Gt=n(184),Jt=n.n(Gt),Yt=n(186),Kt=n(71),Zt=n.n(Kt),Xt=n(120),en=n(58),tn=n(301),nn=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={login:void 0===e.props.login||e.props.login,email:"",password:"",firstName:"",lastName:"",errorMessage:null},e._update=function(){var e=Object(Xt.a)(Zt.a.mark((function e(t,n){return Zt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.writeQuery({query:X,data:{currentUser:Object(a.a)(Object(a.a)({},n.user),{},{token:n.token})}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e._confirm=function(){var t=Object(Xt.a)(Zt.a.mark((function t(n){var a,r,i;return Zt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.error=null,a=e.state.login?n.login:n.signup,r=a.token,i=a.user,e._saveUserData(r,i),document.location=b.dashboardPath("");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e._saveUserData=function(e,t){ae(e,t)},e._error=function(){var t=Object(Xt.a)(Zt.a.mark((function t(n){var a;return Zt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.graphQLErrors,e.state.login&&a&&a[0]&&a[0].message?e.setState({errorMessage:a[0].message}):a&&a[0]&&a[0].extensions.exception.errors[0].message&&e.setState({errorMessage:a[0].extensions.exception.errors[0].message});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e){e.open!==this.props.open&&this.setState({errorMessage:null}),e.login!==this.props.login&&this.setState({login:this.props.login})}},{key:"render",value:function(){var e=this,t=this.state,n=t.login,a=t.email,r=t.password,o=t.firstName,l=t.lastName,c=t.errorMessage,u=this.props.classes;return i.a.createElement(de.a,{open:this.props.open,onClose:this.props.toggleDialog,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"form-dialog-title"},i.a.createElement(pe.a,{id:"login-dialog-title"},n?"Login":"Sign Up"),i.a.createElement(fe.a,null,c&&i.a.createElement(ve.a,{className:u.dialogMainError},c),i.a.createElement("div",{className:u.dialogMainContent},!n&&i.a.createElement("span",null,i.a.createElement(ge.a,{id:"firstName",label:"First name",error:!!c,value:o,onChange:function(t){return e.setState({firstName:t.target.value})},margin:"normal",fullWidth:!0}),i.a.createElement(ge.a,{id:"lastName",label:"Last name",error:!!c,value:l,onChange:function(t){return e.setState({lastName:t.target.value})},margin:"normal",fullWidth:!0})),i.a.createElement(ge.a,{id:"email",label:"Email",error:!!c,value:a,onChange:function(t){return e.setState({email:t.target.value})},margin:"normal",fullWidth:!0}),i.a.createElement(ge.a,{id:"password",label:"Password",error:!!c,type:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})},margin:"normal",fullWidth:!0}))),i.a.createElement(tn.a,null,i.a.createElement(se.a,{onClick:function(){return e.setState({login:!n,errorMessage:null})},color:"primary",style:{marginRight:"auto"}},n?"need to create an account?":"already have an account?"),i.a.createElement(se.a,{onClick:this.props.toggleDialog,color:"primary"},"Cancel"),i.a.createElement(en.Mutation,{mutation:n?Et:ht,variables:{email:a,password:r,firstName:o,lastName:l},update:function(t,a){var r=a.data;return e._update(t,n?r.login:r.signup)},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)}},(function(e){return i.a.createElement(se.a,{color:"primary",onClick:e},n?"login":"create account")}))))}}]),n}(r.Component),an=Object(v.g)(Object(ce.a)({dialogMainContent:{display:"flex",justifyContent:"center",flexDirection:"column"},dialogMainError:{textAlign:"center"}})(nn)),rn=void 0,on=re(Object(v.g)((function(e){var t=e.currentUser,n=e.className,a=Object(r.useState)(!1),o=Object(le.a)(a,2),l=o[0],c=o[1],u=Object(r.useState)(!0),s=Object(le.a)(u,2),m=s[0],d=s[1];Object(r.useEffect)((function(){var e;e=function(){rn.setState({dialogOpen:!0,login:!1}),c(!0),d(!1)},window.addEventListener("openSignUpModal",(function(){return e()}))}));var f=function(){c(!l),d(!0)};return ne()?i.a.createElement(y.a,{variant:"button",color:"inherit",className:n},function(e){return e&&e.id?"Welcome, ".concat(e.firstName):""}(t)):i.a.createElement("span",null,i.a.createElement(se.a,{onClick:f,className:n,color:"inherit"},"Login"),i.a.createElement(an,{open:l,login:m,toggleDialog:f}))}))),ln=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null},e.toggleMenu=function(t){e.state.anchorEl?e.setState({anchorEl:null}):e.setState({anchorEl:t.currentTarget})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.currentUser,a=e.history;return i.a.createElement("div",{className:t.root},i.a.createElement(ye.a,{position:"fixed",style:{background:"transparent",boxShadow:"none"}},i.a.createElement(he.a,{variant:"dense",className:t.container},i.a.createElement(y.a,{className:t.logoText,variant:"button",color:"inherit"},"KidTrip"),i.a.createElement(y.a,{variant:"h6",color:"inherit",className:t.grow}),i.a.createElement(on,{className:t.loginButton}),ne()&&i.a.createElement("span",{className:t.menuWrapper},i.a.createElement(je.a,{onClick:this.toggleMenu,className:t.menuButton,color:"inherit","aria-label":"Menu"},i.a.createElement(Jt.a,null)),i.a.createElement(Yt.a,{id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.toggleMenu},i.a.createElement(Ve.a,{component:ue.b,to:b.home,onClick:this.toggleMenu},"Home"),i.a.createElement(Ve.a,{component:ue.b,to:b.dashboardPath(""),onClick:this.toggleMenu},"Dashboard"),i.a.createElement(Ve.a,{component:ue.b,to:b.userProfilePath(n.id),onClick:this.toggleMenu},"My profile"),i.a.createElement(Ve.a,{onClick:function(){localStorage.removeItem(C),localStorage.removeItem(k),a.push("/")}},"Logout"))))))}}]),n}(r.Component),cn=re(Object(v.g)(ln)),un={root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},menuWrapper:{marginLeft:15}},sn=Object(a.a)(Object(a.a)({},un),{},{container:{borderBottom:"1px solid",borderBottomColor:Ht.a[100],backgroundColor:"white"},grow:Object(a.a)(Object(a.a)({},un.grow),{},{color:Ht.a[500]}),menuButton:Object(a.a)(Object(a.a)({},un.menuButton),{},{color:Ht.a[500]}),loginButton:{color:Ht.a[500]},logoText:{color:Ht.a[500]}}),mn=Object(v.g)((function(e){var t=g(e.location)?un:sn,n=Object(ce.a)(t)(cn);return i.a.createElement(n,null)})),dn=(n(249),function(){var e=Je(),t=e.clearNotifications,n=e.notifications;return n&&n.length?i.a.createElement(r.Fragment,null,n.map((function(e,n){return i.a.createElement("div",{key:n,className:"sessionNotification"},i.a.createElement("div",{className:"sessionNotificationContent sessionNotificationLevel-".concat(e.type)},e.message,i.a.createElement("div",{onClick:function(){return t()},className:"closeSessionNotification"},"\xd7")))}))):null}),fn=function(e){var t=e.title,n=e.venues;return i.a.createElement("div",{className:"sidebar-module"},i.a.createElement("h3",null,t),i.a.createElement("div",{className:"sidebar-module-body"},n.map((function(e){return i.a.createElement(It,{key:e.id,venue:e})}))))},pn=(n(250),re((function(e){var t=e.userProfile,n=e.currentUser,o=[{query:te,variables:{publicId:t.publicId}}],l=Object(c.useMutation)(jt,{onError(e){console.log("error",e)},refetchQueries:o}),u=Object(le.a)(l,2),s=u[0],m=u[1].loading,d=Object(c.useMutation)(St,{onError(e){console.log("error",e)},refetchQueries:o}),f=Object(le.a)(d,2),p=f[0],v=f[1].loading,g=h(t.config.headerImageUrl,"300px");return i.a.createElement("div",{style:Object(a.a)(Object(a.a)({},g.container),{},{borderRadius:"8px"})},i.a.createElement("div",{className:"headerUserInfo"},i.a.createElement("div",{className:"headerUserInfoName"},t.user.firstName,t.user.lastName&&t.user.lastName.length&&i.a.createElement(r.Fragment,null,"\xa0",t.user.lastName[0]),"."),i.a.createElement("div",{className:"headerUserInfoStats"},i.a.createElement("div",null,i.a.createElement("span",null,t.stats.created," places added"),"\xa0\xb7\xa0",i.a.createElement("span",null,t.stats.favorited," places liked")),i.a.createElement("div",null,i.a.createElement("span",null,t.stats.followees," following"),"\xa0\xb7\xa0",i.a.createElement("span",null,t.stats.followers," followers"),"\xa0\xb7\xa0",n.id===t.user.id?"Your Profile":t.stats.followedByCurrentUser?v?i.a.createElement("span",null,"Loading..."):i.a.createElement("button",{onClick:function(){return p({variables:{publicId:t.publicId}})},className:"headerUserButton"},"Un-follow"):m?i.a.createElement("span",null,"Loading..."):i.a.createElement("button",{onClick:function(){return s({variables:{publicId:t.publicId}})},className:"headerUserButton"},"Follow")))))}))),vn=wt((function(e){var t=e.match.params.userId,n=Object(r.useState)(null),a=Object(le.a)(n,2),o=a[0],l=a[1],u=Object(c.useQuery)(te,{variables:{publicId:t},fetchPolicy:"no-cache"}),s=u.loading,m=u.error,d=u.data;return Object(r.useEffect)((function(){d&&l(d.userProfile)}),[d]),s?null:m?"Error! ".concat(m):t?!!o&&i.a.createElement("div",null,i.a.createElement(pn,{userProfile:o}),i.a.createElement("div",{className:"contentContainer"},i.a.createElement("div",{className:"contentContainerMain"},"More to come..."),i.a.createElement("div",{className:"contentContainerSide"},o.recentAddedVenues&&o.recentAddedVenues.length&&i.a.createElement(fn,{title:"Recently added",venues:o.recentAddedVenues}),o.recentFavoriteVenues&&o.recentFavoriteVenues.length&&i.a.createElement(fn,{title:"Recently liked",venues:o.recentFavoriteVenues})))):i.a.createElement("div",null,"User profile not found.")})),gn=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.location;return i.a.createElement(He,null,i.a.createElement(Pt.a,{theme:Rt},i.a.createElement("div",null,i.a.createElement(Lt.a,null),i.a.createElement(mn,null),!g(n)&&i.a.createElement("div",{className:t.appBarSpacer}),i.a.createElement(v.c,null,i.a.createElement(v.a,{exact:!0,path:b.home,component:oe}),i.a.createElement(v.a,{path:b.dashboard,component:Vt}),i.a.createElement(v.a,{path:b.venue,component:Mt}),i.a.createElement(v.a,{path:b.userProfile,component:vn})),i.a.createElement(dn,null))))}}]),n}(r.Component),bn=Object(v.g)(Object(ce.a)({"@global":{body:{fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:400},".mainContainer":{display:"flex",justifyContent:"center"},".mainContent":{maxWidth:"1200px",flexGrow:"1",margin:"25px",backgroundColor:"#ffffff",padding:"25px",borderRadius:"8px"}},appBarSpacer:{height:"49px"}})(gn));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(251);var yn=localStorage.getItem(C),hn=new c.HttpLink({uri:"http://api.mykidtrip.com",credentials:"same-origin",headers:{authorization:yn?"Bearer ".concat(yn):""}}),En=new c.ApolloClient({link:c.ApolloLink.from([Object(s.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message,n=e.locations,a=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(a))})),n&&console.log("[Network error]: ".concat(n))})),hn]),cache:new u.InMemoryCache,resolvers:{}});En.writeQuery({query:X,data:{currentUser:Object(a.a)({},function(){var e=localStorage.getItem(k);return e?JSON.parse(e):{__typename:"User",id:null,firstName:null,lastName:null,email:null}}())}}),l.a.render(i.a.createElement(ue.a,null,i.a.createElement(c.ApolloProvider,{client:En},i.a.createElement(bn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[252,1,2]]]);
//# sourceMappingURL=main.c9fe3b5e.chunk.js.map