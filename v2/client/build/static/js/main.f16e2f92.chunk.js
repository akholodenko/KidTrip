(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},248:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n(0),o=n.n(r),i=n(17),l=n.n(i),c=n(9),u=n(44),s=n(174),m=n(55),d=n(56),f=n(60),p=n(59),v=n(15),b=function(e){return e.pathname===g.home},g={home:"/",dashboard:"/dashboard/:section?",dashboardPath:function(e){return"/dashboard/".concat(e)},venue:"/venue/:venueSlug",venuePath:function(e){return"/venue/".concat(e)},userProfile:"/user/:userId",userProfilePath:function(e){return"/user/".concat(function(e){return btoa(999999999*e)}(e))},validatePageSection:function(e,t,n){return Object.values(t).includes(e)?e:n}},y=n(188),h=function(e,t){return{container:{display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.5)),url(".concat(e,") 50% 50% no-repeat"),backgroundSize:"cover",height:t},headerText:{color:"#ffffff"}}},E=h("".concat("https://kidtrip.s3.us-east-2.amazonaws.com/assets/","venue-header-backgrounds/family-biking-cmp.jpg"),"700px"),O=function(){return o.a.createElement("div",{style:E.container},o.a.createElement(y.a,{variant:"h2",style:E.headerText},o.a.createElement("strong",null,"Experience")," childhood, again."))},j=(n(218),function(e){var t=e.title,n=e.icon,a=e.text,r={background:"url(/images/icons/".concat(n,".png) 0% 0% / 60px 60px no-repeat"),width:"60px",height:"60px"};return o.a.createElement("div",{className:"value-prop-section"},o.a.createElement("div",{className:"value-prop-title"},t),o.a.createElement("div",{className:"value-prop-icon",style:r}),o.a.createElement("div",{className:"value-prop-text"},a))}),S=(n(219),{title:"Discover",icon:"discover",text:"Find out about great local places to visit with your family. From restaurants, to museums, \n\tparks and playgrounds, make the most of your time!"}),N={title:"Track",icon:"track",text:"Had a great time sharing a meal with your family or enjoyed a hiking trail? Jot it down to build your \n\troster of go-to places for your future trips."},I={title:"Share",icon:"share",text:"Share your favorite places to visit with friends and family; hear about what others are \n\tenjoying, for great new ideas."},x=function(){return o.a.createElement("div",{className:"value-prop-container"},o.a.createElement(j,S),o.a.createElement(j,N),o.a.createElement(j,I))},C="auth-token",w="user-info",k=n(178),T=n(187),V=n(22);function F(){var e=Object(V.a)(["\n  query($cityIds: String, $venueTypeIds: String, $sort: String, $first: Int) {\n    venues(\n      cityIds: $cityIds\n      venueTypeIds: $venueTypeIds\n      sort: $sort\n      first: $first\n    ) {\n      id\n      createdAt\n      name\n      slug\n      description\n      streetAddress\n      zipcode\n      city\n      state\n      lat\n      lng\n      creator {\n        id\n        firstName\n        lastName\n      }\n      venueTypes {\n        id\n        name\n        image\n      }\n    }\n  }\n"]);return F=function(){return e},e}function q(){var e=Object(V.a)(["\n  query($name: String!, $cityId: Int, $limit: Int) {\n    similarVenuesByName(name: $name, cityId: $cityId, first: $limit) {\n      id\n      name\n      slug\n      streetAddress\n      zipcode\n      city\n      state\n      venueTypes {\n        id\n        name\n      }\n    }\n  }\n"]);return q=function(){return e},e}function $(){var e=Object(V.a)(["\n  query($venueId: ID!, $limit: Int, $radius: Int) {\n    similarVenues(id: $venueId, first: $limit, radius: $radius) {\n      id\n      name\n      slug\n      streetAddress\n      zipcode\n      city\n    }\n  }\n"]);return $=function(){return e},e}function B(){var e=Object(V.a)(["\n  query {\n    venueTypes {\n      id\n      name\n      image\n    }\n  }\n"]);return B=function(){return e},e}function U(){var e=Object(V.a)(["\n  query {\n    me {\n      id\n      venues {\n        ...VenueDetails\n      }\n      favoriteVenues {\n        ...VenueDetails\n      }\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function D(){var e=Object(V.a)(["\n  query($venueSlug: String!) {\n    venueBySlug(slug: $venueSlug) {\n      ...VenueDetails\n      ...VenueStats\n    }\n  }\n  ","\n  ","\n"]);return D=function(){return e},e}function A(){var e=Object(V.a)(["\n  query($venueId: ID!) {\n    venue(id: $venueId) {\n      ...VenueDetails\n      ...VenueStats\n    }\n  }\n  ","\n  ","\n"]);return A=function(){return e},e}function M(){var e=Object(V.a)(["\n  query($venueId: ID!) {\n    venue(id: $venueId) {\n      ...VenueDetails\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function L(){var e=Object(V.a)(["\n  fragment VenueStats on Venue {\n    venueStats {\n      favorites\n      favoriteByCurrentUser\n    }\n  }\n"]);return L=function(){return e},e}function P(){var e=Object(V.a)(["\n  fragment VenueDetails on Venue {\n    id\n    name\n    slug\n    description\n    streetAddress\n    zipcode\n    city\n    state\n    lat\n    lng\n    venueTypes {\n      id\n      name\n      image\n    }\n  }\n"]);return P=function(){return e},e}var W=Object(c.gql)(P()),z=Object(c.gql)(L()),R=(Object(c.gql)(M(),W),Object(c.gql)(A(),W,z),Object(c.gql)(D(),W,z)),Q=Object(c.gql)(U(),W),_=Object(c.gql)(B()),H=Object(c.gql)($()),G=Object(c.gql)(q()),J=Object(c.gql)(F());function Y(){var e=Object(V.a)(["\n  query {\n    me {\n      id\n      stats {\n        followers\n        followees\n      }\n      followees {\n        id\n        publicId\n        firstName\n        lastName\n      }\n      followers {\n        id\n        publicId\n        firstName\n        lastName\n      }\n    }\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(V.a)(["\n  query($publicId: String!) {\n    userProfile(publicId: $publicId) {\n      publicId\n      user {\n        id\n        firstName\n        lastName\n        zipcode\n      }\n      config {\n        headerImageUrl\n      }\n      stats {\n        created\n        favorited\n        followedByCurrentUser\n        followers\n        followees\n      }\n      recentFavoriteVenues {\n        ...VenueDetails\n      }\n      recentAddedVenues {\n        ...VenueDetails\n      }\n    }\n  }\n  ","\n"]);return K=function(){return e},e}function Z(){var e=Object(V.a)(["\n  query {\n    userFeedConfig {\n      cityIds\n      venueTypeIds\n      cityDetails {\n        id\n        name\n        state\n      }\n    }\n  }\n"]);return Z=function(){return e},e}function X(){var e=Object(V.a)(["\n  query {\n    currentUser @client {\n      id\n      firstName\n      lastName\n    }\n  }\n"]);return X=function(){return e},e}var ee=Object(c.gql)(X()),te=Object(c.gql)(Z()),ne=Object(c.gql)(K(),W),ae=Object(c.gql)(Y()),re=function(){return!!localStorage.getItem(C)},oe=function(e,t){localStorage.setItem(C,e),localStorage.setItem(w,JSON.stringify(t))},ie=function(e){return Object(T.a)(Object(k.graphql)(ee,{props:function(e){return{currentUser:e.data.currentUser}}}))(e)},le=function(e){return e&&e.firstName&&e.lastName?"".concat(e.firstName," ").concat(e.lastName[0],"."):""},ce=(n(220),n(221),function(){return o.a.createElement("div",null,!re()&&o.a.createElement("div",null,o.a.createElement("button",{className:"form-button homepage-signup-button",onClick:function(){return function(){var e=new Event("openSignUpModal");window.dispatchEvent(e)}()}},"Get Started")))}),ue=function(){return o.a.createElement("div",null,o.a.createElement(O,null),o.a.createElement(x,null),o.a.createElement(ce,null))},se=n(10),me=n(8),de=n(24),fe=n(299),pe=n(302),ve=n(308),be=n(297),ge=n(296),ye=n(298),he=n(310),Ee=n(116),Oe=n(293),je=n(294),Se=n(181),Ne=n.n(Se),Ie=n(295),xe=n(119);function Ce(){var e=Object(V.a)(["\n  query($limit: Int, $query: String) {\n    cities(first: $limit, query: $query) {\n      id\n      name\n      state\n    }\n  }\n"]);return Ce=function(){return e},e}var we=Object(c.gql)(Ce()),ke=n(311),Te=n(282),Ve={container:{position:"relative",width:"500px"},formControl:{minWidth:"500px",marginTop:"16px",marginBottom:"8px",height:"16px"}},Fe=function(e){var t=e.onCitySelected,n=e.isMulti,i=e.fieldLabel,l=e.placeholder,u=e.containerWidth,s=e.containerDisplay,m=e.initialValue,d=Object(c.useApolloClient)(),f=Object(r.useState)(""),p=Object(se.a)(f,2),v=p[0],b=p[1],g=Object(r.useState)(n?[]:{}),y=Object(se.a)(g,2),h=y[0],E=y[1],O=Object(r.useState)([]),j=Object(se.a)(O,2),S=j[0],N=j[1];Object(r.useEffect)((function(){v&&v.length>=3?function(e){return d.query({query:we,variables:{limit:10,query:e}})}(v).then((function(e){var t=e.data;N(t.cities.map((function(e){return{value:e.id,label:"".concat(e.name,", ").concat(e.state)}})))})):N([])}),[v,d]),Object(r.useEffect)((function(){m&&Array.isArray(m)&&m.length&&E(m.map((function(e){return{value:e.id,label:"".concat(e.name,", ").concat(e.state)}})))}),[m]);return o.a.createElement("div",{style:Object(a.a)(Object(a.a)({},Ve.container),{},{width:u||"500px",display:s||"block"})},o.a.createElement(Te.a,{style:Ve.formControl},o.a.createElement(ke.a,{shrink:!0,htmlFor:"age-simple"},i||"City")),o.a.createElement(xe.a,{value:h,defaultValue:null,onChange:function(e){E(e),t(e)},options:S,onInputChange:function(e){b(e)},placeholder:l||"Type in name of city",isClearable:!0,isMulti:!!n,menuIsOpen:S&&S.length,escapeClearsValue:!0}))},qe=n(306),$e=n(309),Be={formControl:{minWidth:"500px",marginTop:"16px",marginBottom:"8px"}},Ue=function(e){var t=e.onVenueTypeSelected,n=Object(r.useState)(""),a=Object(se.a)(n,2),i=a[0],l=a[1],u=Object(c.useQuery)(_),s=u.loading,m=u.error,d=u.data;return s?"Loading...":m?"Error! ".concat(m.message):o.a.createElement(Te.a,{style:Be.formControl},o.a.createElement(ke.a,{htmlFor:"age-simple"},"Venue Type"),o.a.createElement(qe.a,{value:i,onChange:function(e){return n=e.target.value,l(n),void t(n);var n},inputProps:{name:"type",id:"venue-type"}},d.venueTypes.map((function(e){return o.a.createElement($e.a,{key:e.id,value:e.id},e.name)}))))},De=n(285),Ae=n(286),Me=n(287),Le=n(288),Pe=n(289),We=n(290),ze=n(291),Re=n(292),Qe=function(e){var t="".concat(e.streetAddress,", ").concat(e.city,", ").concat(e.state," ").concat(e.zipcode);return"https://maps.google.com/?q=".concat(encodeURIComponent(t))},_e=function(e){return e.venueTypes[0].name||"venue"},He=function(e){return"".concat(e.city,", ").concat(e.state)},Ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:", ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?"raw"===n?"".concat(e.streetAddress).concat(t).concat(He(e)," ").concat(e.zipcode):o.a.createElement("span",null,e.streetAddress,t,He(e)," ",e.zipcode):""},Je=Object(r.createContext)({notifications:[],addNotification:function(){},clearNotifications:function(){}}),Ye=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(se.a)(n,2),i=a[0],l=a[1],c={notifications:i,addNotification:Object(r.useCallback)((function(e,t){return l(i.concat({message:e,type:t}))}),[i]),clearNotifications:Object(r.useCallback)((function(){return l([])}),[])};return o.a.createElement(Je.Provider,{value:c},t)},Ke=1,Ze=function(){var e=Object(r.useContext)(Je);return{notifications:e.notifications,addNotification:e.addNotification,clearNotifications:e.clearNotifications}};n(222);function Xe(){var e=Object(V.a)(["\n  mutation DeleteUserVenueFavorite($venueId: Int!) {\n    deleteUserVenueFavorite(venueId: $venueId) {\n      favorites\n      favoriteByCurrentUser\n    }\n  }\n"]);return Xe=function(){return e},e}function et(){var e=Object(V.a)(["\n  mutation CreateUserVenueFavorite($venueId: Int!) {\n    createUserVenueFavorite(venueId: $venueId) {\n      favorites\n      favoriteByCurrentUser\n    }\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(V.a)(["\n  mutation CreateVenueMutation(\n    $name: String!\n    $streetAddress: String!\n    $zipcode: Int!\n    $cityId: Int!\n    $typeId: Int!\n  ) {\n    createVenue(\n      name: $name\n      streetAddress: $streetAddress\n      zipcode: $zipcode\n      city: { id: $cityId }\n      venueType: { id: $typeId }\n    ) {\n      id\n      name\n      streetAddress\n      venueTypes {\n        name\n      }\n    }\n  }\n"]);return tt=function(){return e},e}var nt=Object(c.gql)(tt()),at=Object(c.gql)(et()),rt=Object(c.gql)(Xe()),ot=function(e,t,n){if(e.data.data.ROOT_QUERY['venueBySlug({"slug":"'.concat(t,'"})')]){var r=e.readQuery({query:R,variables:{venueSlug:t}});e.writeQuery({query:R,variables:{venueSlug:t},data:Object(a.a)(Object(a.a)({},r),{},{venueBySlug:Object(a.a)(Object(a.a)({},r.venueBySlug),{},{venueStats:Object(a.a)({},n)})})})}},it=function(e){var t=e.venue,n=Object(v.f)(),a=Ze().addNotification,i=Object(r.useState)(null),l=Object(se.a)(i,2),u=l[0],s=l[1],m=Object(c.useLazyQuery)(G),d=Object(se.a)(m,2),f=d[0],p=d[1],b=[{query:Q}],y=Object(c.useMutation)(at,{onError(e){console.log("error",e)},update:function(e,t){var r=t.data.createUserVenueFavorite;ot(e,u.slug,r),a("".concat(u.name," has been added to your favorites"),Ke),n.push(g.venuePath(u.slug))},refetchQueries:b}),h=Object(se.a)(y,1)[0],E=Object(r.useCallback)((function(e,t){return f({variables:{name:e,cityId:t&&t.id?t.id:null,limit:5}})}),[f]);Object(r.useEffect)((function(){t.name&&t.name.length>=3&&E(t.name,t.city)}),[t.name,t.city,E]);var O=Object(r.useCallback)((function(e){return h({variables:{venueId:e.id}})}),[h]);return Object(r.useEffect)((function(){u&&O(u)}),[u,O]),p.data&&p.data.similarVenuesByName&&p.data.similarVenuesByName.length?o.a.createElement("div",{className:"similarVenueByName"},o.a.createElement("div",{className:"similarVenueByNameTitle"},"Are you adding"," ",p.data.similarVenuesByName.length>1?"one of these destinations":"this destination","?"),o.a.createElement("div",{className:"similarVenueByNameItems"},p.data.similarVenuesByName.map((function(e){return o.a.createElement("div",{key:e.id,className:"similarVenueByNameItem"},o.a.createElement(de.b,{to:g.venuePath(e.slug),target:"_blank",key:e.id,className:"similarVenueByNameItemName"},e.name),o.a.createElement("div",{className:"similarVenueByNameItemType"},_e(e)),Ge(e,o.a.createElement("br",null)),o.a.createElement("div",{className:"similarAddToFavoriteButtonContainer"},o.a.createElement("button",{className:"similarAddToFavoriteButton",onClick:function(){return s(e)}},"Add to Favorites")))})))):null},lt={appBar:{position:"relative"},title:{margin:"0 auto"},body:{margin:"0 auto"},input:{minWidth:"500px"}},ct={name:"",type:{id:null},streetAddress:"",zipcode:"",lat:"",lng:"",city:{}},ut=function(e){var t=e.open,n=e.toggleDialog,i=e.onCreatedVenue,l=Object(c.useMutation)(nt,{onError(e){console.log("error",e)},onCompleted(e){i()},refetchQueries:[{query:Q}],awaitRefetchQueries:!0}),u=Object(se.a)(l,1)[0],s=Object(r.useState)(Object(a.a)({},ct)),m=Object(se.a)(s,2),d=m[0],f=m[1],p=Object(r.useState)("Please enter information about a place you enjoyed."),v=Object(se.a)(p,2),b=v[0],g=v[1],y=function(e){return function(t){f(Object(a.a)(Object(a.a)({},d),{},{[e]:t.target.value}))}};return o.a.createElement(ve.a,{open:t,onClose:n,fullScreen:!0,"aria-labelledby":"form-dialog-title"},o.a.createElement(Oe.a,{style:lt.appBar},o.a.createElement(je.a,null,o.a.createElement(Ie.a,{edge:"start",color:"inherit",onClick:n,"aria-label":"close"},o.a.createElement(Ne.a,null)))),o.a.createElement(ge.a,{style:lt.title},"Add New Destination"),o.a.createElement(be.a,{style:lt.body},o.a.createElement(ye.a,null,b),o.a.createElement(he.a,{id:"venue-name",label:"Venue name",value:d.name,onChange:y("name"),margin:"normal",style:lt.input}),o.a.createElement("br",null),o.a.createElement(Ue,{onVenueTypeSelected:function(e){f(Object(a.a)(Object(a.a)({},d),{},{type:{id:e}}))}}),o.a.createElement("br",null),o.a.createElement(he.a,{id:"venue-street-address",name:"street-address",label:"Street address",value:d.streetAddress,onChange:y("streetAddress"),margin:"normal",autoComplete:"shipping street-address",style:lt.input}),o.a.createElement(Fe,{onCitySelected:function(e){f(Object(a.a)(Object(a.a)({},d),{},{city:e&&e.value?{id:e.value}:{}}))}}),o.a.createElement(Ee.a,{customInput:he.a,id:"venue-zipcode",name:"zipcode",label:"Zipcode",value:d.zipcode,onChange:y("zipcode"),margin:"normal",style:lt.input,autoComplete:"postal-code",format:"#####"}),o.a.createElement(it,{venue:d}),o.a.createElement("div",null,o.a.createElement(fe.a,{color:"primary",onClick:function(){!function(e){var t=e.name,n=e.type,a=e.streetAddress,r=e.city,o=e.zipcode,i={name:!1,type:!1,streetAddress:!1,city:!1,zipcode:!1};return t&&t.length>=3&&(i.name=!0),n&&n.id&&(i.type=!0),a&&a.length>=2&&(i.streetAddress=!0),r&&r.id&&(i.city=!0),o&&!isNaN(parseInt(o))&&(i.zipcode=!0),-1===Object.values(i).indexOf(!1)}(d)?g("Please enter valid venue information"):u({variables:{name:d.name,typeId:d.type.id,streetAddress:d.streetAddress,zipcode:parseInt(d.zipcode),cityId:d.city.id}}).then((function(e){f(Object(a.a)({},ct)),n()}))}},"Create venue"))))},st=n(182),mt=n.n(st),dt=n(305),ft=n(301),pt=Object(me.a)({appBar:{boxShadow:"none",float:"left",width:"300px"},tabIndicator:{backgroundColor:"#ffffff"}})((function(e){var t=e.classes,n=e.venues,a=e.venueTypeFilter,r=e.onSetVenueTypeFilter;return o.a.createElement(o.a.Fragment,null,o.a.createElement(mt.a,{position:"static",className:t.appBar},o.a.createElement(dt.a,{value:a,onChange:function(e,t){r(t)},classes:{indicator:t.tabIndicator},orientation:"vertical",variant:"scrollable",scrollButtons:"auto"},o.a.createElement(ft.a,{label:"all",value:"all"}),function(e){for(var t={},n=0;n<e.length;n++)e[n].venueTypes&&e[n].venueTypes.length&&(t[e[n].venueTypes[0].name]?t[e[n].venueTypes[0].name].venues.push(e[n]):t[e[n].venueTypes[0].name]={type:{id:e[n].venueTypes[0].id,name:e[n].venueTypes[0].name},venues:[e[n]]});return Object.keys(t)}(n).sort().map((function(e,t){return o.a.createElement(ft.a,{label:e,value:e,key:t})})))))})),vt=Object(me.a)({"@global":{".venueItem":{border:"1px solid #eee",borderRadius:"8px",marginTop:"5px",marginBottom:"5px",padding:"15px",width:"49%",display:"inline-block","&:nth-child(odd)":{marginRight:"10px"}},".venueItemTitle":{display:"block",fontSize:"18px",fontWeight:500,lineHeight:1.6,color:"#333333",textDecoration:"none","&:hover":{textDecoration:"underline"}},".venueItemDescription":{},".venueItemTypeBadge":{display:"inline-block",padding:"1px 5px",backgroundColor:"#2196f3",color:"#fff",borderRadius:"3px",height:"22px"},".venueItemTypeBadgeText":{marginLeft:"20px",marginTop:"3px",textTransform:"uppercase",fontSize:"11px",fontWeight:600,minWidth:"75px",textAlign:"center"},".venueItemLocation":{textTransform:"uppercase",fontSize:"11px",fontWeight:600,textDecoration:"none",float:"right",marginTop:"4px",color:"#666"},".venueIcon":{float:"left",width:"15px",height:"auto",marginRight:"5px",position:"relative",top:"2px"},".venueUnlike":{float:"right"}}})((function(e){var t=e.venue,n=e.showDeleteFavoriteButton,a=e.onDeleteFavoriteCallback,r=Object(c.useMutation)(rt,{onError(e){console.log("error",e)},update:function(e,t){var n=t.data.deleteUserVenueFavorite;l(e,n)},onCompleted:function(){a()},refetchQueries:[{query:Q}],awaitRefetchQueries:!0}),i=Object(se.a)(r,1)[0],l=function(e,n){try{var a=e.readQuery({query:R,variables:{venueSlug:t.slug}});a.venueBySlug.venueStats=n,e.writeQuery({query:R,variables:{venueSlug:t.slug},data:a})}catch(r){}};return o.a.createElement("div",{className:"venueItem"},n&&o.a.createElement("button",{onClick:function(){i({variables:{venueId:t.id}})},className:"venueUnlike"},"Unlike"),o.a.createElement(de.b,{to:g.venuePath(t.slug),className:"venueItemTitle"},t.name),o.a.createElement("div",{className:"venueItemDescription"},o.a.createElement("div",{className:"venueItemTypeBadge"},function(e,t){var n;switch(e.venueTypes[0].name){case"restaurant":n=o.a.createElement(De.a,{className:t});break;case"museum":n=o.a.createElement(Ae.a,{className:t});break;case"zoo":n=o.a.createElement(Me.a,{className:t});break;case"hiking trail":n=o.a.createElement(Le.a,{className:t});break;case"outdoor park":n=o.a.createElement(Pe.a,{className:t});break;case"camp site":n=o.a.createElement(We.a,{className:t});break;case"outdoor playground":n=o.a.createElement(ze.a,{className:t});break;default:n=o.a.createElement(Re.a,{className:t})}return n}(t,"venueIcon"),o.a.createElement("div",{className:"venueItemTypeBadgeText"},t.venueTypes&&t.venueTypes.length?"".concat(t.venueTypes[0].name):"")),o.a.createElement("a",{href:Qe(t),target:"_blank",rel:"noopener noreferrer",className:"venueItemLocation"},He(t))))})),bt=Object(me.a)({"@global":{".venueList":{marginLeft:"320px"}}})((function(e){var t=e.currentDashboardSection,n=e.isFavoritesDashboardSection,a=e.externalTriggerVenueRefresh,i=Object(c.useApolloClient)(),l=Object(r.useState)("all"),u=Object(se.a)(l,2),s=u[0],m=u[1],d=Object(r.useState)([]),f=Object(se.a)(d,2),p=f[0],v=f[1],b=Object(r.useState)(!0),g=Object(se.a)(b,2),y=g[0],h=g[1];Object(r.useEffect)((function(){i.query({query:Q}).then((function(e){var t=e.data;v(n?t.me.favoriteVenues:t.me.venues)})),m("all")}),[t,y,a,n,i]);var E=function(){h(!y)};return o.a.createElement(r.Fragment,null,o.a.createElement(pt,{venues:p,onSetVenueTypeFilter:m,venueTypeFilter:s}),o.a.createElement("div",{className:"venueList"},p.filter((function(e){return"all"===s||e.venueTypes[0].name===s})).map((function(e){return o.a.createElement(vt,{key:e.id,venue:e,showDeleteFavoriteButton:n,onDeleteFavoriteCallback:E})}))))}));function gt(){var e=Object(V.a)(["\n  mutation DeleteUserFollower($publicId: String!) {\n    deleteUserFollower(publicId: $publicId) {\n      followedByCurrentUser\n      followers\n      followees\n    }\n  }\n"]);return gt=function(){return e},e}function yt(){var e=Object(V.a)(["\n  mutation CreateUserFollower($publicId: String!) {\n    createUserFollower(publicId: $publicId) {\n      followedByCurrentUser\n      followers\n      followees\n    }\n  }\n"]);return yt=function(){return e},e}function ht(){var e=Object(V.a)(["\n  mutation UpdateCurrentUserFeedConfigMutation(\n    $cityIds: String\n    $venueTypeIds: String\n  ) {\n    updateUserFeedConfig(cityIds: $cityIds, venueTypeIds: $venueTypeIds) {\n      cityIds\n      venueTypeIds\n    }\n  }\n"]);return ht=function(){return e},e}function Et(){var e=Object(V.a)(["\n  mutation LoginMutation($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        id\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n"]);return Et=function(){return e},e}function Ot(){var e=Object(V.a)(["\n  mutation SignupMutation(\n    $email: String!\n    $password: String!\n    $firstName: String!\n    $lastName: String!\n  ) {\n    signup(\n      email: $email\n      password: $password\n      firstName: $firstName\n      lastName: $lastName\n    ) {\n      token\n      user {\n        id\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n"]);return Ot=function(){return e},e}var jt=Object(c.gql)(Ot()),St=Object(c.gql)(Et()),Nt=Object(c.gql)(ht()),It=Object(c.gql)(yt()),xt=Object(c.gql)(gt()),Ct=Object(me.a)({"@global":{".feedItem":{borderBottom:"1px solid #eee",marginTop:"5px",marginBottom:"5px",padding:"15px"},".feedItemTitle":{fontWeight:600,color:"#000",textDecoration:"none",fontSize:"15px","&:hover":{textDecoration:"underline"}},".feedItemSubtitle":{fontSize:"12px"}}})((function(e){var t=e.venue;return o.a.createElement("div",{className:"feedItem"},o.a.createElement(de.b,{to:g.venuePath(t.slug),className:"feedItemTitle"},t.name),o.a.createElement("div",{className:"feedItemSubtitle"},"in ",He(t),t.creator&&o.a.createElement(r.Fragment,null,o.a.createElement("br",null),"added ",function(e){var t=new Date(e),n=((new Date).getTime()-t.getTime())/1e3;return n<=60?"now":n<90?Math.round(n/60)+" minute ago":n<=3600?Math.round(n/60)+" minutes ago":n<5400?Math.round(n/3600)+" hour ago":n<=86400?Math.round(n/3600)+" hours ago":"on "+t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}(t.createdAt)," by \xa0",o.a.createElement(de.b,{to:g.userProfilePath(t.creator.id)},le(t.creator)))))})),wt={container:{position:"relative",width:"350px",display:"inline-block"},formControl:{minWidth:"500px",marginTop:"16px",marginBottom:"8px",height:"16px"}},kt=function(e){var t=e.initialValue,n=e.onVenueTypeSelected,a=Object(c.useApolloClient)(),i=Object(r.useState)([]),l=Object(se.a)(i,2),u=l[0],s=l[1],m=Object(r.useState)([]),d=Object(se.a)(m,2),f=d[0],p=d[1];Object(r.useEffect)((function(){a.query({query:_}).then((function(e){var t=e.data;p(t.venueTypes.map((function(e){return{value:e.id,label:e.name}})))}))}),[a]),Object(r.useEffect)((function(){if(f&&f.length&&t){var e=t.split(",").map((function(e){return parseInt(e)}));s(f.filter((function(t){return e.includes(t.value)})))}}),[f,t]);return o.a.createElement("div",{style:wt.container},o.a.createElement(Te.a,{style:wt.formControl},o.a.createElement(ke.a,{shrink:!0,htmlFor:"age-simple"},"Venue type")),o.a.createElement(xe.a,{value:u,defaultValue:null,onChange:function(e){s(e),n(e)},options:f,placeholder:"Select venue type",isClearable:!0,isMulti:!0,isSearchable:!1,escapeClearsValue:!0}))},Tt=function(e){var t=e.feedConfiguration,n=e.onFeedConfigurationUpdated,a=Object(r.useState)(),i=Object(se.a)(a,2),l=i[0],c=i[1],u=Object(r.useState)(),s=Object(se.a)(u,2),m=s[0],d=s[1];Object(r.useEffect)((function(){c(t.cityIds),d(t.venueTypeIds)}),[t]);return o.a.createElement("div",null,o.a.createElement(Fe,{onCitySelected:function(e){var t=e?e.map((function(e){return e.value})).join(","):null;c(t),n({cityIds:t,venueTypeIds:m})},fieldLabel:"Filter feed by city",placeholder:"e.g.: San Francisco, CA",isMulti:!0,containerWidth:"350px",containerDisplay:"inline-block",initialValue:t.cityDetails}),o.a.createElement("div",{style:{display:"inline-block",width:"30px",height:"20px"}}),o.a.createElement(kt,{initialValue:m,onVenueTypeSelected:function(e){var t=e?e.map((function(e){return e.value})).join(","):null;d(t),n({venueTypeIds:t,cityIds:l})}}))},Vt=Object(me.a)({"@global":{".feedContainer":{maxWidth:"50%",minWidth:"400px"}}})((function(){var e=Object(c.useApolloClient)(),t=Object(r.useState)([]),n=Object(se.a)(t,2),i=n[0],l=n[1],u=Object(r.useState)({cityIds:null,venueTypeIds:null,sort:"DESC",first:25,init:!1}),s=Object(se.a)(u,2),m=s[0],d=s[1],f=Object(c.useMutation)(Nt),p=Object(se.a)(f,1)[0];Object(r.useEffect)((function(){e.query({query:te}).then((function(e){var t=e.data;d(Object(a.a)({init:!0,sort:"DESC",first:25},t.userFeedConfig))}))}),[e]),Object(r.useEffect)((function(){m.init&&e.query({query:J,variables:Object(a.a)({},m)}).then((function(e){var t=e.data;l(t.venues)}))}),[e,m]);return o.a.createElement("div",null,o.a.createElement(Tt,{feedConfiguration:m,onFeedConfigurationUpdated:function(e){e&&d(Object(a.a)(Object(a.a)({},e),{},{init:!0})),p({variables:{cityIds:e.cityIds,venueTypeIds:e.venueTypeIds}})}}),o.a.createElement("div",{className:"feedContainer"},i.map((function(e){return o.a.createElement(Ct,{key:e.id,venue:e})}))))})),Ft=function(e){return function(t){Object(f.a)(a,t);var n=Object(p.a)(a);function a(){return Object(m.a)(this,a),n.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"mainContainer"},o.a.createElement("div",{className:"mainContent"},o.a.createElement(e,this.props)))}}]),a}(o.a.Component)},qt=(n(248),function(){var e=Object(r.useState)(null),t=Object(se.a)(e,2),n=t[0],a=t[1],i=Object(c.useQuery)(ae),l=i.loading,u=i.error,s=i.data;Object(r.useEffect)((function(){s&&a(s.me)}),[s]);var m=[{query:ae}],d=Object(c.useMutation)(xt,{onError(e){console.log("error",e)},refetchQueries:m}),f=Object(se.a)(d,1)[0];return n&&n.stats?l?null:u?"Error! ".concat(u):o.a.createElement("div",null,o.a.createElement("div",{className:"followers-container"},o.a.createElement("div",{className:"followers-list-container"},o.a.createElement("div",{className:"followers-list-header"},"Followees (",n.stats.followees,")"),n.followees.map((function(e){return o.a.createElement("div",{key:e.id,className:"followers-list-item"},o.a.createElement(de.b,{to:g.userProfilePath(e.id)},le(e)),o.a.createElement("button",{onClick:function(){return t=e.publicId,f({variables:{publicId:t}});var t},className:"inlineButton"},"Un-follow"))}))),o.a.createElement("div",{className:"followers-list-container"},o.a.createElement("div",{className:"followers-list-header"},"Followers (",n.stats.followers,")"),n.followers.map((function(e){return o.a.createElement("div",{key:e.id,className:"followers-list-item"},o.a.createElement(de.b,{to:g.userProfilePath(e.id)},le(e)))}))))):null}),$t={FEED:"feed",MY_DESTINATIONS:"my-destinations",FAVORITES:"favorites",FOLLOWERS:"followers"},Bt=Object(me.a)({"@global":{".sectionHeader":{marginBottom:"30px",display:"flex"},".sectionHeaderTitle":{flexGrow:1,maxWidth:"200px",cursor:"pointer",textDecoration:"none",color:"#666",textAlign:"center",textTransform:"uppercase",borderRadius:"8px",margin:"0px 10px",fontSize:"14px",fontWeight:600,lineHeight:2.5,letterSpacing:"1.3px",border:"1px solid #eee"},".sectionHeaderTitleSelected":{backgroundColor:"#f9f8f8"},".venueList":{marginLeft:"320px"}}})(Ft((function(e){var t=e.match,n=g.validatePageSection(t.params.section,$t,$t.FEED),a=Object(r.useState)(!1),i=Object(se.a)(a,2),l=i[0],c=i[1],u=Object(r.useState)(!0),s=Object(se.a)(u,2),m=s[0],d=s[1],f=function(){c(!l)},p=function(e,t){return o.a.createElement(de.b,{to:g.dashboardPath(t),className:"sectionHeaderTitle ".concat(n===t?"sectionHeaderTitleSelected":"")},e)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"sectionHeader"},p("Feed",$t.FEED),p("My destinations",$t.MY_DESTINATIONS),p("Favorites",$t.FAVORITES),p("Followers",$t.FOLLOWERS),o.a.createElement(fe.a,{variant:"outlined",style:{marginLeft:"auto"},onClick:f},o.a.createElement(pe.a,null),"Add Destination"),o.a.createElement(ut,{open:l,toggleDialog:f,onCreatedVenue:function(){return d(!m)}})),function(){switch(n){case $t.FEED:return o.a.createElement(Vt,null);case $t.MY_DESTINATIONS:return o.a.createElement(bt,{currentDashboardSection:n,isFavoritesDashboardSection:!1,externalTriggerVenueRefresh:m});case $t.FAVORITES:return o.a.createElement(bt,{currentDashboardSection:n,isFavoritesDashboardSection:!0,externalTriggerVenueRefresh:m});case $t.FOLLOWERS:return o.a.createElement(qt,null);default:return o.a.createElement(Vt,null)}}())}))),Ut=n(183),Dt=n.n(Ut),At=function(e){var t=e.venue,n=h("".concat(function(e){return e.venueTypes[0].image}(t)),"300px");return o.a.createElement("div",{style:n.container},o.a.createElement(y.a,{variant:"h2",style:n.headerText},o.a.createElement("strong",null,t.name)))},Mt=(n(128),function(e){var t=e.venue,n=Object(c.useApolloClient)(),a=Object(r.useState)([]),i=Object(se.a)(a,2),l=i[0],u=i[1];return Object(r.useEffect)((function(){n.query({query:H,variables:{venueId:t.id,limit:5,radius:10}}).then((function(e){var t=e.data;u(t.similarVenues)}))}),[t,n]),o.a.createElement("div",{className:"sidebar-module",style:{display:l&&l.length?"block":"none"}},o.a.createElement("h3",null,"Similar places near by"),o.a.createElement("div",{className:"sidebar-module-body"},l&&l.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement(de.b,{to:g.venuePath(e.slug)},e.name))}))))}),Lt=function(e){var t=e.venue;return o.a.createElement("div",{className:"sidebar-module"},o.a.createElement("h3",null,"Location"),o.a.createElement("div",{className:"sidebar-module-body"},o.a.createElement("a",{href:"".concat("https://maps.google.com/?daddr=").concat(encodeURIComponent(Ge(t,",","raw"))),target:"_blank",rel:"noopener noreferrer"},Ge(t,o.a.createElement("br",null)))))},Pt=function(e){var t=e.venueId,n=e.venueSlug,a=e.favoriteByCurrentUser,r=e.onUpdateFavoritesStats,i=[{query:Q}],l=Object(c.useMutation)(at,{onError(e){console.log("error",e)},update:function(e,t){var a=t.data.createUserVenueFavorite;ot(e,n,a),r(a)},refetchQueries:i}),u=Object(se.a)(l,1)[0],s=Object(c.useMutation)(rt,{onError(e){console.log("error",e)},update:function(e,t){var a=t.data.deleteUserVenueFavorite;ot(e,n,a),r(a)},refetchQueries:i}),m=Object(se.a)(s,1)[0];return o.a.createElement(o.a.Fragment,null,a?o.a.createElement("span",null,"\u2605\xa0",o.a.createElement("button",{onClick:function(e){e.preventDefault(),m({variables:{venueId:t}})}}," ","Unlike")):o.a.createElement("button",{href:"#",onClick:function(e){e.preventDefault(),u({variables:{venueId:t}})}},"Like"))},Wt={sectionHeader:{marginBottom:"15px"},columnWrapper:{display:"flex"},mainColumn:{flexGrow:3,maxWidth:"800px"},sideColumm:{flexGrow:1,marginTop:"-20px"}},zt=function(e){var t=e.match.params.venueSlug,n=Object(r.useState)(null),i=Object(se.a)(n,2),l=i[0],u=i[1],s=Object(r.useState)(""),m=Object(se.a)(s,2),d=m[0],f=m[1],p=Object(c.useQuery)(R,{variables:{venueSlug:t}}),v=p.loading,b=p.error,g=p.data;Object(r.useEffect)((function(){g&&(u(g.venueBySlug),f(_e(g.venueBySlug)))}),[g]);return v?null:b?"Error! ".concat(b):t?l&&o.a.createElement("div",null,o.a.createElement(At,{venue:l}),o.a.createElement("div",{className:"mainContainer"},o.a.createElement("div",{className:"mainContent"},o.a.createElement(y.a,{variant:"h5",style:Wt.sectionHeader},l.name),o.a.createElement("div",{style:Wt.columnWrapper},o.a.createElement("div",{style:Wt.mainColumn},o.a.createElement("div",null,"Liked by"," ",o.a.createElement("strong",null,o.a.createElement(Ee.a,{value:l.venueStats.favorites,thousandSeparator:!0,displayType:"text"})," ",Dt()("person",l.venueStats.favorites)),". \xa0",re()&&o.a.createElement(Pt,{venueId:l.id,venueSlug:t,favoriteByCurrentUser:l.venueStats.favoriteByCurrentUser,onUpdateFavoritesStats:function(e){u(Object(a.a)(Object(a.a)({},l),{},{venueStats:Object(a.a)({},e)}))}})),o.a.createElement("br",null),l.description&&o.a.createElement("span",null,l.description),"This ",d," is located in ",l.city,", ",l.state,"."),o.a.createElement("div",{style:Wt.sideColumm},o.a.createElement(Lt,{venue:l}),o.a.createElement(Mt,{venue:l})))))):o.a.createElement("div",null,"Venue not found.")},Rt=n(304),Qt=n(300),_t=n(185),Ht=n(133),Gt=n.n(Ht),Jt=Object(_t.a)({palette:{primary:{main:Gt.a[500]},background:{default:"#efefef"}},typography:{useNextVariants:!0}}),Yt=n(84),Kt=n.n(Yt),Zt=n(184),Xt=n.n(Zt),en=n(186),tn=n(71),nn=n.n(tn),an=n(120),rn=n(58),on=n(303),ln=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={login:void 0===e.props.login||e.props.login,email:"",password:"",firstName:"",lastName:"",errorMessage:null},e._update=function(){var e=Object(an.a)(nn.a.mark((function e(t,n){return nn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.writeQuery({query:ee,data:{currentUser:Object(a.a)(Object(a.a)({},n.user),{},{token:n.token})}});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e._confirm=function(){var t=Object(an.a)(nn.a.mark((function t(n){var a,r,o;return nn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.error=null,a=e.state.login?n.login:n.signup,r=a.token,o=a.user,e._saveUserData(r,o),document.location=g.dashboardPath("");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e._saveUserData=function(e,t){oe(e,t)},e._error=function(){var t=Object(an.a)(nn.a.mark((function t(n){var a;return nn.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n.graphQLErrors,e.state.login&&a&&a[0]&&a[0].message?e.setState({errorMessage:a[0].message}):a&&a[0]&&a[0].extensions.exception.errors[0].message&&e.setState({errorMessage:a[0].extensions.exception.errors[0].message});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(e){e.open!==this.props.open&&this.setState({errorMessage:null}),e.login!==this.props.login&&this.setState({login:this.props.login})}},{key:"render",value:function(){var e=this,t=this.state,n=t.login,a=t.email,r=t.password,i=t.firstName,l=t.lastName,c=t.errorMessage,u=this.props.classes;return o.a.createElement(ve.a,{open:this.props.open,onClose:this.props.toggleDialog,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"form-dialog-title"},o.a.createElement(ge.a,{id:"login-dialog-title"},n?"Login":"Sign Up"),o.a.createElement(be.a,null,c&&o.a.createElement(ye.a,{className:u.dialogMainError},c),o.a.createElement("div",{className:u.dialogMainContent},!n&&o.a.createElement("span",null,o.a.createElement(he.a,{id:"firstName",label:"First name",error:!!c,value:i,onChange:function(t){return e.setState({firstName:t.target.value})},margin:"normal",fullWidth:!0}),o.a.createElement(he.a,{id:"lastName",label:"Last name",error:!!c,value:l,onChange:function(t){return e.setState({lastName:t.target.value})},margin:"normal",fullWidth:!0})),o.a.createElement(he.a,{id:"email",label:"Email",error:!!c,value:a,onChange:function(t){return e.setState({email:t.target.value})},margin:"normal",fullWidth:!0}),o.a.createElement(he.a,{id:"password",label:"Password",error:!!c,type:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})},margin:"normal",fullWidth:!0}))),o.a.createElement(on.a,null,o.a.createElement(fe.a,{onClick:function(){return e.setState({login:!n,errorMessage:null})},color:"primary",style:{marginRight:"auto"}},n?"need to create an account?":"already have an account?"),o.a.createElement(fe.a,{onClick:this.props.toggleDialog,color:"primary"},"Cancel"),o.a.createElement(rn.Mutation,{mutation:n?St:jt,variables:{email:a,password:r,firstName:i,lastName:l},update:function(t,a){var r=a.data;return e._update(t,n?r.login:r.signup)},onCompleted:function(t){return e._confirm(t)},onError:function(t){return e._error(t)}},(function(e){return o.a.createElement(fe.a,{color:"primary",onClick:e},n?"login":"create account")}))))}}]),n}(r.Component),cn=Object(v.g)(Object(me.a)({dialogMainContent:{display:"flex",justifyContent:"center",flexDirection:"column"},dialogMainError:{textAlign:"center"}})(ln)),un=void 0,sn=ie(Object(v.g)((function(e){var t=e.currentUser,n=e.className,a=Object(r.useState)(!1),i=Object(se.a)(a,2),l=i[0],c=i[1],u=Object(r.useState)(!0),s=Object(se.a)(u,2),m=s[0],d=s[1];Object(r.useEffect)((function(){var e;e=function(){un.setState({dialogOpen:!0,login:!1}),c(!0),d(!1)},window.addEventListener("openSignUpModal",(function(){return e()}))}));var f=function(){c(!l),d(!0)};return re()?o.a.createElement(y.a,{variant:"button",color:"inherit",className:n},function(e){return e&&e.id?"Welcome, ".concat(e.firstName):""}(t)):o.a.createElement("span",null,o.a.createElement(fe.a,{onClick:f,className:n,color:"inherit"},"Login"),o.a.createElement(cn,{open:l,login:m,toggleDialog:f}))}))),mn=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={anchorEl:null},e.toggleMenu=function(t){e.state.anchorEl?e.setState({anchorEl:null}):e.setState({anchorEl:t.currentTarget})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.currentUser,a=e.history;return o.a.createElement("div",{className:t.root},o.a.createElement(Oe.a,{position:"fixed",style:{background:"transparent",boxShadow:"none"}},o.a.createElement(je.a,{variant:"dense",className:t.container},o.a.createElement(y.a,{className:t.logoText,variant:"button",color:"inherit"},"KidTrip"),o.a.createElement(y.a,{variant:"h6",color:"inherit",className:t.grow}),o.a.createElement(sn,{className:t.loginButton}),re()&&o.a.createElement("span",{className:t.menuWrapper},o.a.createElement(Ie.a,{onClick:this.toggleMenu,className:t.menuButton,color:"inherit","aria-label":"Menu"},o.a.createElement(Xt.a,null)),o.a.createElement(en.a,{id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.toggleMenu},o.a.createElement($e.a,{component:de.b,to:g.home,onClick:this.toggleMenu},"Home"),o.a.createElement($e.a,{component:de.b,to:g.dashboardPath(""),onClick:this.toggleMenu},"Dashboard"),o.a.createElement($e.a,{component:de.b,to:g.userProfilePath(n.id),onClick:this.toggleMenu},"My profile"),o.a.createElement($e.a,{onClick:function(){localStorage.removeItem(C),localStorage.removeItem(w),a.push("/")}},"Logout"))))))}}]),n}(r.Component),dn=ie(Object(v.g)(mn)),fn={root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},menuWrapper:{marginLeft:15}},pn=Object(a.a)(Object(a.a)({},fn),{},{container:{borderBottom:"1px solid",borderBottomColor:Kt.a[100],backgroundColor:"white"},grow:Object(a.a)(Object(a.a)({},fn.grow),{},{color:Kt.a[500]}),menuButton:Object(a.a)(Object(a.a)({},fn.menuButton),{},{color:Kt.a[500]}),loginButton:{color:Kt.a[500]},logoText:{color:Kt.a[500]}}),vn=Object(v.g)((function(e){var t=b(e.location)?fn:pn,n=Object(me.a)(t)(dn);return o.a.createElement(n,null)})),bn=(n(250),function(){var e=Ze(),t=e.clearNotifications,n=e.notifications;return n&&n.length?o.a.createElement(r.Fragment,null,n.map((function(e,n){return o.a.createElement("div",{key:n,className:"sessionNotification"},o.a.createElement("div",{className:"sessionNotificationContent sessionNotificationLevel-".concat(e.type)},e.message,o.a.createElement("div",{onClick:function(){return t()},className:"closeSessionNotification"},"\xd7")))}))):null}),gn=function(e){var t=e.title,n=e.venues;return o.a.createElement("div",{className:"sidebar-module"},o.a.createElement("h3",null,t),o.a.createElement("div",{className:"sidebar-module-body"},n.map((function(e){return o.a.createElement(Ct,{key:e.id,venue:e})}))))},yn=(n(251),ie((function(e){var t=e.userProfile,n=e.currentUser,i=[{query:ne,variables:{publicId:t.publicId}},{query:ae}],l=Object(c.useMutation)(It,{onError(e){console.log("error",e)},refetchQueries:i}),u=Object(se.a)(l,2),s=u[0],m=u[1].loading,d=Object(c.useMutation)(xt,{onError(e){console.log("error",e)},refetchQueries:i}),f=Object(se.a)(d,2),p=f[0],v=f[1].loading,b=h(t.config.headerImageUrl,"300px");return o.a.createElement("div",{style:Object(a.a)(Object(a.a)({},b.container),{},{borderRadius:"8px"})},o.a.createElement("div",{className:"headerUserInfo"},o.a.createElement("div",{className:"headerUserInfoName"},t.user.firstName,t.user.lastName&&t.user.lastName.length&&o.a.createElement(r.Fragment,null,"\xa0",t.user.lastName[0]),"."),o.a.createElement("div",{className:"headerUserInfoStats"},o.a.createElement("div",null,o.a.createElement("span",null,t.stats.created," places added"),"\xa0\xb7\xa0",o.a.createElement("span",null,t.stats.favorited," places liked")),o.a.createElement("div",null,o.a.createElement("span",null,t.stats.followees," following"),"\xa0\xb7\xa0",o.a.createElement("span",null,t.stats.followers," followers"),"\xa0\xb7\xa0",n.id===t.user.id?"Your Profile":t.stats.followedByCurrentUser?v?o.a.createElement("span",null,"Loading..."):o.a.createElement("button",{onClick:function(){return p({variables:{publicId:t.publicId}})},className:"headerUserButton"},"Un-follow"):m?o.a.createElement("span",null,"Loading..."):o.a.createElement("button",{onClick:function(){return s({variables:{publicId:t.publicId}})},className:"headerUserButton"},"Follow")))))}))),hn=Ft((function(e){var t=e.match.params.userId,n=Object(r.useState)(null),a=Object(se.a)(n,2),i=a[0],l=a[1],u=Object(c.useQuery)(ne,{variables:{publicId:t}}),s=u.loading,m=u.error,d=u.data;return Object(r.useEffect)((function(){d&&l(d.userProfile)}),[d]),s?null:m?"Error! ".concat(m):t?!!i&&o.a.createElement("div",null,o.a.createElement(yn,{userProfile:i}),o.a.createElement("div",{className:"contentContainer"},o.a.createElement("div",{className:"contentContainerMain"},"More to come..."),o.a.createElement("div",{className:"contentContainerSide"},i.recentAddedVenues&&i.recentAddedVenues.length&&o.a.createElement(gn,{title:"Recently added",venues:i.recentAddedVenues}),i.recentFavoriteVenues&&i.recentFavoriteVenues.length&&o.a.createElement(gn,{title:"Recently liked",venues:i.recentFavoriteVenues})))):o.a.createElement("div",null,"User profile not found.")})),En=(n(252),function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.location;return o.a.createElement(Ye,null,o.a.createElement(Qt.a,{theme:Jt},o.a.createElement("div",null,o.a.createElement(Rt.a,null),o.a.createElement(vn,null),!b(n)&&o.a.createElement("div",{className:t.appBarSpacer}),o.a.createElement(v.c,null,o.a.createElement(v.a,{exact:!0,path:g.home,component:ue}),o.a.createElement(v.a,{path:g.dashboard,component:Bt}),o.a.createElement(v.a,{path:g.venue,component:zt}),o.a.createElement(v.a,{path:g.userProfile,component:hn})),o.a.createElement(bn,null))))}}]),n}(r.Component)),On=Object(v.g)(Object(me.a)({"@global":{body:{fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:400},".mainContainer":{display:"flex",justifyContent:"center"},".mainContent":{maxWidth:"1200px",flexGrow:"1",margin:"25px",backgroundColor:"#ffffff",padding:"25px",borderRadius:"8px"}},appBarSpacer:{height:"49px"}})(En));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(253);const jn=localStorage.getItem(C),Sn=new c.HttpLink({uri:"http://api.mykidtrip.com",credentials:"same-origin",fetchOptions:{mode:"no-cors"},headers:{authorization:jn?"Bearer ".concat(jn):""}}),Nn=new c.ApolloClient({link:c.ApolloLink.from([Object(s.a)((({graphQLErrors:e,networkError:t})=>{e&&e.map((({message:e,locations:t,path:n})=>console.log("[GraphQL error]: Message: ".concat(e,", Location: ").concat(t,", Path: ").concat(n)))),t&&console.log("[Network error]: ".concat(t))})),Sn]),cache:new u.InMemoryCache({typePolicies:{User:{fields:{followees:{merge:!1}}}}}),resolvers:{}});Nn.writeQuery({query:ee,data:{currentUser:Object(a.a)({},function(){var e=localStorage.getItem(w);return e?JSON.parse(e):{__typename:"User",id:null,firstName:null,lastName:null,email:null}}())}}),l.a.render(o.a.createElement(de.a,null,o.a.createElement(c.ApolloProvider,{client:Nn},o.a.createElement(On,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[254,1,2]]]);
//# sourceMappingURL=main.f16e2f92.chunk.js.map